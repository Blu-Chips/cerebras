{"ast":null,"code":"import _objectSpread from \"C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"rootEl\"],\n  _excluded2 = [\"defer\", \"target\"],\n  _excluded3 = [\"defer\", \"triggerElement\"];\n// src/caret.ts\nfunction isCaretAtStart(input) {\n  if (!input) return false;\n  try {\n    return input.selectionStart === 0 && input.selectionEnd === 0;\n  } catch (_unused) {\n    return input.value === \"\";\n  }\n}\nfunction setCaretToEnd(input) {\n  var _input$selectionStart, _input$selectionEnd;\n  if (!input) return;\n  const start = (_input$selectionStart = input.selectionStart) !== null && _input$selectionStart !== void 0 ? _input$selectionStart : 0;\n  const end = (_input$selectionEnd = input.selectionEnd) !== null && _input$selectionEnd !== void 0 ? _input$selectionEnd : 0;\n  if (Math.abs(end - start) !== 0) return;\n  if (start !== 0) return;\n  input.setSelectionRange(input.value.length, input.value.length);\n}\n\n// src/shared.ts\nvar clamp = value => Math.max(0, Math.min(1, value));\nvar wrap = (v, idx) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length]);\n};\nvar pipe = function () {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return arg => fns.reduce((acc, fn) => fn(acc), arg);\n};\nvar noop = () => void 0;\nvar isObject = v => typeof v === \"object\" && v !== null;\nvar MAX_Z_INDEX = 2147483647;\nvar dataAttr = guard => guard ? \"\" : void 0;\nvar ariaAttr = guard => guard ? \"true\" : void 0;\n\n// src/node.ts\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_NODE = 9;\nvar DOCUMENT_FRAGMENT_NODE = 11;\nvar isHTMLElement = el => isObject(el) && el.nodeType === ELEMENT_NODE && typeof el.nodeName === \"string\";\nvar isDocument = el => isObject(el) && el.nodeType === DOCUMENT_NODE;\nvar isWindow = el => isObject(el) && el === el.window;\nvar isVisualViewport = el => isObject(el) && el.constructor.name === \"VisualViewport\";\nvar getNodeName = node => {\n  if (isHTMLElement(node)) return node.localName || \"\";\n  return \"#document\";\n};\nfunction isRootElement(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nvar isNode = el => isObject(el) && el.nodeType !== void 0;\nvar isShadowRoot = el => isNode(el) && el.nodeType === DOCUMENT_FRAGMENT_NODE && \"host\" in el;\nvar isInputElement = el => isHTMLElement(el) && el.localName === \"input\";\nvar isAnchorElement = el => !!(el !== null && el !== void 0 && el.matches(\"a[href]\"));\nvar isElementVisible = el => {\n  if (!isHTMLElement(el)) return false;\n  return el.offsetWidth > 0 || el.offsetHeight > 0 || el.getClientRects().length > 0;\n};\nfunction isActiveElement(element) {\n  if (!element) return false;\n  const rootNode = element.getRootNode();\n  return getActiveElement(rootNode) === element;\n}\nvar TEXTAREA_SELECT_REGEX = /(textarea|select)/;\nfunction isEditableElement(el) {\n  if (el == null || !isHTMLElement(el)) return false;\n  try {\n    return isInputElement(el) && el.selectionStart != null || TEXTAREA_SELECT_REGEX.test(el.localName) || el.isContentEditable || el.getAttribute(\"contenteditable\") === \"true\" || el.getAttribute(\"contenteditable\") === \"\";\n  } catch (_unused2) {\n    return false;\n  }\n}\nfunction contains(parent, child) {\n  var _child$getRootNode;\n  if (!parent || !child) return false;\n  if (!isHTMLElement(parent) || !isHTMLElement(child)) return false;\n  const rootNode = (_child$getRootNode = child.getRootNode) === null || _child$getRootNode === void 0 ? void 0 : _child$getRootNode.call(child);\n  if (parent === child) return true;\n  if (parent.contains(child)) return true;\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) return true;\n      next = next.parentNode || next.host;\n    }\n  }\n  return false;\n}\nfunction getDocument(el) {\n  var _el$ownerDocument;\n  if (isDocument(el)) return el;\n  if (isWindow(el)) return el.document;\n  return (_el$ownerDocument = el === null || el === void 0 ? void 0 : el.ownerDocument) !== null && _el$ownerDocument !== void 0 ? _el$ownerDocument : document;\n}\nfunction getDocumentElement(el) {\n  return getDocument(el).documentElement;\n}\nfunction getWindow(el) {\n  var _el$defaultView, _el$ownerDocument$def, _el$ownerDocument2;\n  if (isShadowRoot(el)) return getWindow(el.host);\n  if (isDocument(el)) return (_el$defaultView = el.defaultView) !== null && _el$defaultView !== void 0 ? _el$defaultView : window;\n  if (isHTMLElement(el)) return (_el$ownerDocument$def = (_el$ownerDocument2 = el.ownerDocument) === null || _el$ownerDocument2 === void 0 ? void 0 : _el$ownerDocument2.defaultView) !== null && _el$ownerDocument$def !== void 0 ? _el$ownerDocument$def : window;\n  return window;\n}\nfunction getActiveElement(rootNode) {\n  let activeElement = rootNode.activeElement;\n  while ((_activeElement = activeElement) !== null && _activeElement !== void 0 && _activeElement.shadowRoot) {\n    var _activeElement;\n    const el = activeElement.shadowRoot.activeElement;\n    if (!el || el === activeElement) break;else activeElement = el;\n  }\n  return activeElement;\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") return node;\n  const result = node.assignedSlot || node.parentNode || isShadowRoot(node) && node.host || getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\n// src/computed-style.ts\nvar styleCache = /* @__PURE__ */new WeakMap();\nfunction getComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    styleCache.set(el, getWindow(el).getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\n\n// src/data-url.ts\nfunction getDataUrl(svg, opts) {\n  const {\n    type,\n    quality = 0.92,\n    background\n  } = opts;\n  if (!svg) throw new Error(\"[zag-js > getDataUrl]: Could not find the svg element\");\n  const win = getWindow(svg);\n  const doc = win.document;\n  const svgBounds = svg.getBoundingClientRect();\n  const svgClone = svg.cloneNode(true);\n  if (!svgClone.hasAttribute(\"viewBox\")) {\n    svgClone.setAttribute(\"viewBox\", \"0 0 \".concat(svgBounds.width, \" \").concat(svgBounds.height));\n  }\n  const serializer = new win.XMLSerializer();\n  const source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + serializer.serializeToString(svgClone);\n  const svgString = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n  if (type === \"image/svg+xml\") {\n    return Promise.resolve(svgString).then(str => {\n      svgClone.remove();\n      return str;\n    });\n  }\n  const dpr = win.devicePixelRatio || 1;\n  const canvas = doc.createElement(\"canvas\");\n  const image = new win.Image();\n  image.src = svgString;\n  canvas.width = svgBounds.width * dpr;\n  canvas.height = svgBounds.height * dpr;\n  const context = canvas.getContext(\"2d\");\n  if (type === \"image/jpeg\" || background) {\n    context.fillStyle = background || \"white\";\n    context.fillRect(0, 0, canvas.width, canvas.height);\n  }\n  return new Promise(resolve => {\n    image.onload = () => {\n      context === null || context === void 0 || context.drawImage(image, 0, 0, canvas.width, canvas.height);\n      resolve(canvas.toDataURL(type, quality));\n      svgClone.remove();\n    };\n  });\n}\n\n// src/platform.ts\nvar isDom = () => typeof document !== \"undefined\";\nfunction getPlatform() {\n  var _agent$platform;\n  const agent = navigator.userAgentData;\n  return (_agent$platform = agent === null || agent === void 0 ? void 0 : agent.platform) !== null && _agent$platform !== void 0 ? _agent$platform : navigator.platform;\n}\nfunction getUserAgent() {\n  const ua2 = navigator.userAgentData;\n  if (ua2 && Array.isArray(ua2.brands)) {\n    return ua2.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return \"\".concat(brand, \"/\").concat(version);\n    }).join(\" \");\n  }\n  return navigator.userAgent;\n}\nvar pt = v => isDom() && v.test(getPlatform());\nvar ua = v => isDom() && v.test(getUserAgent());\nvar vn = v => isDom() && v.test(navigator.vendor);\nvar isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nvar isIPhone = () => pt(/^iPhone/i);\nvar isIPad = () => pt(/^iPad/i) || isMac() && navigator.maxTouchPoints > 1;\nvar isIos = () => isIPhone() || isIPad();\nvar isApple = () => isMac() || isIos();\nvar isMac = () => pt(/^Mac/i);\nvar isSafari = () => isApple() && vn(/apple/i);\nvar isFirefox = () => ua(/Firefox/i);\nvar isChrome = () => ua(/Chrome/i);\nvar isWebKit = () => ua(/AppleWebKit/i) && !isChrome();\nvar isAndroid = () => ua(/Android/i);\n\n// src/event.ts\nfunction getBeforeInputValue(event) {\n  const {\n    selectionStart,\n    selectionEnd,\n    value\n  } = event.currentTarget;\n  const data = event.data;\n  return value.slice(0, selectionStart) + (data !== null && data !== void 0 ? data : \"\") + value.slice(selectionEnd);\n}\nfunction getComposedPath(event) {\n  var _event$composedPath, _event$composedPath2, _event$nativeEvent, _event$nativeEvent$co;\n  return (_event$composedPath = (_event$composedPath2 = event.composedPath) === null || _event$composedPath2 === void 0 ? void 0 : _event$composedPath2.call(event)) !== null && _event$composedPath !== void 0 ? _event$composedPath : (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 || (_event$nativeEvent$co = _event$nativeEvent.composedPath) === null || _event$nativeEvent$co === void 0 ? void 0 : _event$nativeEvent$co.call(_event$nativeEvent);\n}\nfunction getEventTarget(event) {\n  var _composedPath$;\n  const composedPath = getComposedPath(event);\n  return (_composedPath$ = composedPath === null || composedPath === void 0 ? void 0 : composedPath[0]) !== null && _composedPath$ !== void 0 ? _composedPath$ : event.target;\n}\nfunction isOpeningInNewTab(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const validElement = element.matches(\"a[href], button[type='submit'], input[type='submit']\");\n  if (!validElement) return false;\n  const isMiddleClick = event.button === 1;\n  const isModKeyClick = isCtrlOrMetaKey(event);\n  return isMiddleClick || isModKeyClick;\n}\nfunction isDownloadingEvent(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const localName = element.localName;\n  if (!event.altKey) return false;\n  if (localName === \"a\") return true;\n  if (localName === \"button\" && element.type === \"submit\") return true;\n  if (localName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isComposingEvent(event) {\n  return getNativeEvent(event).isComposing || event.keyCode === 229;\n}\nfunction isKeyboardClick(e) {\n  return e.detail === 0 || e.clientX === 0 && e.clientY === 0;\n}\nfunction isCtrlOrMetaKey(e) {\n  if (isMac()) return e.metaKey;\n  return e.ctrlKey;\n}\nfunction isPrintableKey(e) {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey;\n}\nfunction isVirtualPointerEvent(e) {\n  return e.width === 0 && e.height === 0 || e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\";\n}\nfunction isVirtualClick(e) {\n  if (e.pointerType === \"\" && e.isTrusted) return true;\n  if (isAndroid() && e.pointerType) {\n    return e.type === \"click\" && e.buttons === 1;\n  }\n  return e.detail === 0 && !e.pointerType;\n}\nvar isLeftClick = e => e.button === 0;\nvar isContextMenuEvent = e => {\n  return e.button === 2 || isMac() && e.ctrlKey && e.button === 0;\n};\nvar isModifierKey = e => e.ctrlKey || e.altKey || e.metaKey;\nvar isTouchEvent = event => \"touches\" in event && event.touches.length > 0;\nvar keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\"\n};\nvar rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\"\n};\nfunction getEventKey(event) {\n  var _keyMap$key;\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    dir = \"ltr\",\n    orientation = \"horizontal\"\n  } = options;\n  let key = event.key;\n  key = (_keyMap$key = keyMap[key]) !== null && _keyMap$key !== void 0 ? _keyMap$key : key;\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\";\n  if (isRtl && key in rtlKeyMap) key = rtlKeyMap[key];\n  return key;\n}\nfunction getNativeEvent(event) {\n  var _event$nativeEvent2;\n  return (_event$nativeEvent2 = event.nativeEvent) !== null && _event$nativeEvent2 !== void 0 ? _event$nativeEvent2 : event;\n}\nvar pageKeys = /* @__PURE__ */new Set([\"PageUp\", \"PageDown\"]);\nvar arrowKeys = /* @__PURE__ */new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"]);\nfunction getEventStep(event) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1;\n  } else {\n    const isPageKey = pageKeys.has(event.key);\n    const isSkipKey = isPageKey || event.shiftKey && arrowKeys.has(event.key);\n    return isSkipKey ? 10 : 1;\n  }\n}\nfunction getEventPoint(event) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"client\";\n  const point = isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n  return {\n    x: point[\"\".concat(type, \"X\")],\n    y: point[\"\".concat(type, \"Y\")]\n  };\n}\nvar addDomEvent = (target, eventName, handler, options) => {\n  const node = typeof target === \"function\" ? target() : target;\n  node === null || node === void 0 || node.addEventListener(eventName, handler, options);\n  return () => {\n    node === null || node === void 0 || node.removeEventListener(eventName, handler, options);\n  };\n};\n\n// src/form.ts\nfunction getDescriptor(el, options) {\n  var _Object$getOwnPropert;\n  const {\n    type = \"HTMLInputElement\",\n    property = \"value\"\n  } = options;\n  const proto = getWindow(el)[type].prototype;\n  return (_Object$getOwnPropert = Object.getOwnPropertyDescriptor(proto, property)) !== null && _Object$getOwnPropert !== void 0 ? _Object$getOwnPropert : {};\n}\nfunction getElementType(el) {\n  if (el.localName === \"input\") return \"HTMLInputElement\";\n  if (el.localName === \"textarea\") return \"HTMLTextAreaElement\";\n  if (el.localName === \"select\") return \"HTMLSelectElement\";\n}\nfunction setElementValue(el, value) {\n  let property = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"value\";\n  if (!el) return;\n  const type = getElementType(el);\n  if (type) {\n    var _descriptor$set;\n    const descriptor = getDescriptor(el, {\n      type,\n      property\n    });\n    (_descriptor$set = descriptor.set) === null || _descriptor$set === void 0 || _descriptor$set.call(el, value);\n  }\n  el.setAttribute(property, value);\n}\nfunction setElementChecked(el, checked) {\n  var _descriptor$set2;\n  if (!el) return;\n  const descriptor = getDescriptor(el, {\n    type: \"HTMLInputElement\",\n    property: \"checked\"\n  });\n  (_descriptor$set2 = descriptor.set) === null || _descriptor$set2 === void 0 || _descriptor$set2.call(el, checked);\n  if (checked) el.setAttribute(\"checked\", \"\");else el.removeAttribute(\"checked\");\n}\nfunction dispatchInputValueEvent(el, options) {\n  const {\n    value,\n    bubbles = true\n  } = options;\n  if (!el) return;\n  const win = getWindow(el);\n  if (!(el instanceof win.HTMLInputElement)) return;\n  setElementValue(el, \"\".concat(value));\n  el.dispatchEvent(new win.Event(\"input\", {\n    bubbles\n  }));\n}\nfunction dispatchInputCheckedEvent(el, options) {\n  const {\n    checked,\n    bubbles = true\n  } = options;\n  if (!el) return;\n  const win = getWindow(el);\n  if (!(el instanceof win.HTMLInputElement)) return;\n  setElementChecked(el, checked);\n  el.dispatchEvent(new win.Event(\"click\", {\n    bubbles\n  }));\n}\nfunction getClosestForm(el) {\n  return isFormElement(el) ? el.form : el.closest(\"form\");\n}\nfunction isFormElement(el) {\n  return el.matches(\"textarea, input, select, button\");\n}\nfunction trackFormReset(el, callback) {\n  if (!el) return;\n  const form = getClosestForm(el);\n  const onReset = e => {\n    if (e.defaultPrevented) return;\n    callback();\n  };\n  form === null || form === void 0 || form.addEventListener(\"reset\", onReset, {\n    passive: true\n  });\n  return () => form === null || form === void 0 ? void 0 : form.removeEventListener(\"reset\", onReset);\n}\nfunction trackFieldsetDisabled(el, callback) {\n  const fieldset = el === null || el === void 0 ? void 0 : el.closest(\"fieldset\");\n  if (!fieldset) return;\n  callback(fieldset.disabled);\n  const win = getWindow(fieldset);\n  const obs = new win.MutationObserver(() => callback(fieldset.disabled));\n  obs.observe(fieldset, {\n    attributes: true,\n    attributeFilter: [\"disabled\"]\n  });\n  return () => obs.disconnect();\n}\nfunction trackFormControl(el, options) {\n  if (!el) return;\n  const {\n    onFieldsetDisabledChange,\n    onFormReset\n  } = options;\n  const cleanups = [trackFormReset(el, onFormReset), trackFieldsetDisabled(el, onFieldsetDisabledChange)];\n  return () => cleanups.forEach(cleanup => cleanup === null || cleanup === void 0 ? void 0 : cleanup());\n}\n\n// src/tabbable.ts\nvar isFrame = el => isHTMLElement(el) && el.tagName === \"IFRAME\";\nvar hasTabIndex = el => !Number.isNaN(parseInt(el.getAttribute(\"tabindex\") || \"0\", 10));\nvar hasNegativeTabIndex = el => parseInt(el.getAttribute(\"tabindex\") || \"0\", 10) < 0;\nvar focusableSelector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type\";\nvar getFocusables = function (container) {\n  let includeContainer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const include = includeContainer == true || includeContainer == \"if-empty\" && elements.length === 0;\n  if (include && isHTMLElement(container) && isFocusable(container)) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getFocusables(frameBody));\n    }\n  });\n  return focusableElements;\n};\nfunction isFocusable(element) {\n  if (!element || element.closest(\"[inert]\")) return false;\n  return element.matches(focusableSelector) && isElementVisible(element);\n}\nfunction getFirstFocusable(container, includeContainer) {\n  const [first] = getFocusables(container, includeContainer);\n  return first || null;\n}\nfunction getTabbables(container, includeContainer) {\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getTabbables(frameBody);\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && includeContainer) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction isTabbable(el) {\n  if (el != null && el.tabIndex > 0) return true;\n  return isFocusable(el) && !hasNegativeTabIndex(el);\n}\nfunction getFirstTabbable(container, includeContainer) {\n  const [first] = getTabbables(container, includeContainer);\n  return first || null;\n}\nfunction getLastTabbable(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  return elements[elements.length - 1] || null;\n}\nfunction getTabbableEdges(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  const first = elements[0] || null;\n  const last = elements[elements.length - 1] || null;\n  return [first, last];\n}\nfunction getNextTabbable(container, current) {\n  const tabbables = getTabbables(container);\n  const doc = (container === null || container === void 0 ? void 0 : container.ownerDocument) || document;\n  const currentElement = current !== null && current !== void 0 ? current : getActiveElement(doc);\n  if (!currentElement) return null;\n  const index = tabbables.indexOf(currentElement);\n  return tabbables[index + 1] || null;\n}\nfunction getTabIndex(node) {\n  if (node.tabIndex < 0) {\n    if ((/^(audio|video|details)$/.test(node.localName) || isEditableElement(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n}\n\n// src/initial-focus.ts\nfunction getInitialFocus(options) {\n  const {\n    root,\n    getInitialEl,\n    filter,\n    enabled = true\n  } = options;\n  if (!enabled) return;\n  let node = null;\n  node || (node = typeof getInitialEl === \"function\" ? getInitialEl() : getInitialEl);\n  node || (node = root === null || root === void 0 ? void 0 : root.querySelector(\"[data-autofocus],[autofocus]\"));\n  if (!node) {\n    const tabbables = getTabbables(root);\n    node = filter ? tabbables.filter(filter)[0] : tabbables[0];\n  }\n  return node || root || void 0;\n}\nfunction isValidTabEvent(event) {\n  const container = event.currentTarget;\n  if (!container) return false;\n  const [firstTabbable, lastTabbable] = getTabbableEdges(container);\n  if (isActiveElement(firstTabbable) && event.shiftKey) return false;\n  if (isActiveElement(lastTabbable) && !event.shiftKey) return false;\n  if (!firstTabbable && !lastTabbable) return false;\n  return true;\n}\n\n// src/raf.ts\nfunction nextTick(fn) {\n  const set = /* @__PURE__ */new Set();\n  function raf2(fn2) {\n    const id = globalThis.requestAnimationFrame(fn2);\n    set.add(() => globalThis.cancelAnimationFrame(id));\n  }\n  raf2(() => raf2(fn));\n  return function cleanup() {\n    set.forEach(fn2 => fn2());\n  };\n}\nfunction raf(fn) {\n  let cleanup;\n  const id = globalThis.requestAnimationFrame(() => {\n    cleanup = fn();\n  });\n  return () => {\n    var _cleanup;\n    globalThis.cancelAnimationFrame(id);\n    (_cleanup = cleanup) === null || _cleanup === void 0 || _cleanup();\n  };\n}\nfunction queueBeforeEvent(el, type, cb) {\n  const cancelTimer = raf(() => {\n    el.removeEventListener(type, exec, true);\n    cb();\n  });\n  const exec = () => {\n    cancelTimer();\n    cb();\n  };\n  el.addEventListener(type, exec, {\n    once: true,\n    capture: true\n  });\n  return cancelTimer;\n}\n\n// src/mutation-observer.ts\nfunction observeAttributesImpl(node, options) {\n  if (!node) return;\n  const {\n    attributes,\n    callback: fn\n  } = options;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver(changes => {\n    for (const change of changes) {\n      if (change.type === \"attributes\" && change.attributeName && attributes.includes(change.attributeName)) {\n        fn(change);\n      }\n    }\n  });\n  obs.observe(node, {\n    attributes: true,\n    attributeFilter: attributes\n  });\n  return () => obs.disconnect();\n}\nfunction observeAttributes(nodeOrFn, options) {\n  const {\n    defer\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n    cleanups.push(observeAttributesImpl(node, options));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn === null || fn === void 0 ? void 0 : fn());\n  };\n}\nfunction observeChildrenImpl(node, options) {\n  const {\n    callback: fn\n  } = options;\n  if (!node) return;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver(fn);\n  obs.observe(node, {\n    childList: true,\n    subtree: true\n  });\n  return () => obs.disconnect();\n}\nfunction observeChildren(nodeOrFn, options) {\n  const {\n    defer\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n    cleanups.push(observeChildrenImpl(node, options));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn === null || fn === void 0 ? void 0 : fn());\n  };\n}\n\n// src/navigate.ts\nfunction clickIfLink(el) {\n  const click = () => {\n    const win = getWindow(el);\n    el.dispatchEvent(new win.MouseEvent(\"click\"));\n  };\n  if (isFirefox()) {\n    queueBeforeEvent(el, \"keyup\", click);\n  } else {\n    queueMicrotask(click);\n  }\n}\n\n// src/overflow.ts\nfunction getNearestOverflowAncestor(el) {\n  const parentNode = getParentNode(el);\n  if (isRootElement(parentNode)) return getDocument(parentNode).body;\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) return parentNode;\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(el) {\n  let list = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const scrollableAncestor = getNearestOverflowAncestor(el);\n  const isBody = scrollableAncestor === el.ownerDocument.body;\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, []));\n}\nvar getElementRect = el => {\n  if (isHTMLElement(el)) return el.getBoundingClientRect();\n  if (isVisualViewport(el)) return {\n    top: 0,\n    left: 0,\n    bottom: el.height,\n    right: el.width\n  };\n  return {\n    top: 0,\n    left: 0,\n    bottom: el.innerHeight,\n    right: el.innerWidth\n  };\n};\nfunction isInView(el, ancestor) {\n  if (!isHTMLElement(el)) return true;\n  const ancestorRect = getElementRect(ancestor);\n  const elRect = el.getBoundingClientRect();\n  return elRect.top >= ancestorRect.top && elRect.left >= ancestorRect.left && elRect.bottom <= ancestorRect.bottom && elRect.right <= ancestorRect.right;\n}\nvar OVERFLOW_RE = /auto|scroll|overlay|hidden|clip/;\nvar nonOverflowValues = /* @__PURE__ */new Set([\"inline\", \"contents\"]);\nfunction isOverflowElement(el) {\n  const win = getWindow(el);\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = win.getComputedStyle(el);\n  return OVERFLOW_RE.test(overflow + overflowY + overflowX) && !nonOverflowValues.has(display);\n}\nfunction isScrollable(el) {\n  return el.scrollHeight > el.clientHeight || el.scrollWidth > el.clientWidth;\n}\nfunction scrollIntoView(el, options) {\n  const _ref2 = options || {},\n    {\n      rootEl\n    } = _ref2,\n    scrollOptions = _objectWithoutProperties(_ref2, _excluded);\n  if (!el || !rootEl) return;\n  if (!isOverflowElement(rootEl) || !isScrollable(rootEl)) return;\n  el.scrollIntoView(scrollOptions);\n}\nfunction getScrollPosition(element) {\n  if (isHTMLElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\n\n// src/point.ts\nfunction getRelativePoint(point, element) {\n  const {\n    left,\n    top,\n    width,\n    height\n  } = element.getBoundingClientRect();\n  const offset = {\n    x: point.x - left,\n    y: point.y - top\n  };\n  const percent = {\n    x: clamp(offset.x / width),\n    y: clamp(offset.y / height)\n  };\n  function getPercentValue() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      dir = \"ltr\",\n      orientation = \"horizontal\",\n      inverted\n    } = options;\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted;\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted;\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x;\n    }\n    return invertY ? 1 - percent.y : percent.y;\n  }\n  return {\n    offset,\n    percent,\n    getPercentValue\n  };\n}\n\n// src/pointer-lock.ts\nfunction requestPointerLock(doc, fn) {\n  const body = doc.body;\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc;\n  const isLocked = () => !!doc.pointerLockElement;\n  function onPointerChange() {\n    fn === null || fn === void 0 || fn(isLocked());\n  }\n  function onPointerError(event) {\n    if (isLocked()) fn === null || fn === void 0 || fn(false);\n    console.error(\"PointerLock error occurred:\", event);\n    doc.exitPointerLock();\n  }\n  if (!supported) return;\n  try {\n    body.requestPointerLock();\n  } catch (_unused3) {}\n  const cleanup = [addDomEvent(doc, \"pointerlockchange\", onPointerChange, false), addDomEvent(doc, \"pointerlockerror\", onPointerError, false)];\n  return () => {\n    cleanup.forEach(cleanup2 => cleanup2());\n    doc.exitPointerLock();\n  };\n}\n\n// src/text-selection.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */new WeakMap();\nfunction disableTextSelectionImpl() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc !== null && doc !== void 0 ? doc : document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({\n    target,\n    doc: docNode\n  });\n}\nfunction restoreTextSelection() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc !== null && doc !== void 0 ? doc : document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect !== null && prevUserSelect !== void 0 ? prevUserSelect : \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n      defer,\n      target\n    } = options,\n    restOptions = _objectWithoutProperties(options, _excluded2);\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = typeof target === \"function\" ? target() : target;\n    cleanups.push(disableTextSelectionImpl(_objectSpread(_objectSpread({}, restOptions), {}, {\n      target: node\n    })));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn === null || fn === void 0 ? void 0 : fn());\n  };\n}\n\n// src/pointer-move.ts\nfunction trackPointerMove(doc, handlers) {\n  const {\n    onPointerMove,\n    onPointerUp\n  } = handlers;\n  const handleMove = event => {\n    const point = getEventPoint(event);\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2);\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5;\n    if (distance < moveBuffer) return;\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      handleUp(event);\n      return;\n    }\n    onPointerMove({\n      point,\n      event\n    });\n  };\n  const handleUp = event => {\n    const point = getEventPoint(event);\n    onPointerUp({\n      point,\n      event\n    });\n  };\n  const cleanups = [addDomEvent(doc, \"pointermove\", handleMove, false), addDomEvent(doc, \"pointerup\", handleUp, false), addDomEvent(doc, \"pointercancel\", handleUp, false), addDomEvent(doc, \"contextmenu\", handleUp, false), disableTextSelection({\n    doc\n  })];\n  return () => {\n    cleanups.forEach(cleanup => cleanup());\n  };\n}\n\n// src/press.ts\nfunction trackPress(options) {\n  const {\n    pointerNode,\n    keyboardNode = pointerNode,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isValidKey = e => e.key === \"Enter\"\n  } = options;\n  if (!pointerNode) return noop;\n  const win = getWindow(pointerNode);\n  let removeStartListeners = noop;\n  let removeEndListeners = noop;\n  let removeAccessibleListeners = noop;\n  const getInfo = event => ({\n    point: getEventPoint(event),\n    event\n  });\n  function startPress(event) {\n    onPressStart === null || onPressStart === void 0 || onPressStart(getInfo(event));\n  }\n  function cancelPress(event) {\n    onPressEnd === null || onPressEnd === void 0 || onPressEnd(getInfo(event));\n  }\n  const startPointerPress = startEvent => {\n    removeEndListeners();\n    const endPointerPress = endEvent => {\n      const target = getEventTarget(endEvent);\n      if (contains(pointerNode, target)) {\n        onPress === null || onPress === void 0 || onPress(getInfo(endEvent));\n      } else {\n        onPressEnd === null || onPressEnd === void 0 || onPressEnd(getInfo(endEvent));\n      }\n    };\n    const removePointerUpListener = addDomEvent(win, \"pointerup\", endPointerPress, {\n      passive: !onPress,\n      once: true\n    });\n    const removePointerCancelListener = addDomEvent(win, \"pointercancel\", cancelPress, {\n      passive: !onPressEnd,\n      once: true\n    });\n    removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n    if (isActiveElement(keyboardNode) && startEvent.pointerType === \"mouse\") {\n      startEvent.preventDefault();\n    }\n    startPress(startEvent);\n  };\n  const removePointerListener = addDomEvent(pointerNode, \"pointerdown\", startPointerPress, {\n    passive: !onPressStart\n  });\n  const removeFocusListener = addDomEvent(keyboardNode, \"focus\", startAccessiblePress);\n  removeStartListeners = pipe(removePointerListener, removeFocusListener);\n  function startAccessiblePress() {\n    const handleKeydown = keydownEvent => {\n      if (!isValidKey(keydownEvent)) return;\n      const handleKeyup = keyupEvent => {\n        if (!isValidKey(keyupEvent)) return;\n        const evt2 = new win.PointerEvent(\"pointerup\");\n        const info = getInfo(evt2);\n        onPress === null || onPress === void 0 || onPress(info);\n        onPressEnd === null || onPressEnd === void 0 || onPressEnd(info);\n      };\n      removeEndListeners();\n      removeEndListeners = addDomEvent(keyboardNode, \"keyup\", handleKeyup);\n      const evt = new win.PointerEvent(\"pointerdown\");\n      startPress(evt);\n    };\n    const handleBlur = () => {\n      const evt = new win.PointerEvent(\"pointercancel\");\n      cancelPress(evt);\n    };\n    const removeKeydownListener = addDomEvent(keyboardNode, \"keydown\", handleKeydown);\n    const removeBlurListener = addDomEvent(keyboardNode, \"blur\", handleBlur);\n    removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n  }\n  return () => {\n    removeStartListeners();\n    removeEndListeners();\n    removeAccessibleListeners();\n  };\n}\n\n// src/proxy-tab-focus.ts\nfunction proxyTabFocusImpl(container) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    triggerElement,\n    onFocus,\n    onFocusEnter\n  } = options;\n  const doc = (container === null || container === void 0 ? void 0 : container.ownerDocument) || document;\n  const body = doc.body;\n  function onKeyDown(event) {\n    if (event.key !== \"Tab\") return;\n    let elementToFocus = null;\n    const [firstTabbable, lastTabbable] = getTabbableEdges(container, true);\n    const nextTabbableAfterTrigger = getNextTabbable(body, triggerElement);\n    const noTabbableElements = !firstTabbable && !lastTabbable;\n    if (event.shiftKey && isActiveElement(nextTabbableAfterTrigger)) {\n      onFocusEnter === null || onFocusEnter === void 0 || onFocusEnter();\n      elementToFocus = lastTabbable;\n    } else if (event.shiftKey && (isActiveElement(firstTabbable) || noTabbableElements)) {\n      elementToFocus = triggerElement;\n    } else if (!event.shiftKey && isActiveElement(triggerElement)) {\n      onFocusEnter === null || onFocusEnter === void 0 || onFocusEnter();\n      elementToFocus = firstTabbable;\n    } else if (!event.shiftKey && (isActiveElement(lastTabbable) || noTabbableElements)) {\n      elementToFocus = nextTabbableAfterTrigger;\n    }\n    if (!elementToFocus) return;\n    event.preventDefault();\n    if (typeof onFocus === \"function\") {\n      onFocus(elementToFocus);\n    } else {\n      elementToFocus.focus();\n    }\n  }\n  return addDomEvent(doc, \"keydown\", onKeyDown, true);\n}\nfunction proxyTabFocus(container, options) {\n  const {\n      defer,\n      triggerElement\n    } = options,\n    restOptions = _objectWithoutProperties(options, _excluded3);\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = typeof container === \"function\" ? container() : container;\n    const trigger = typeof triggerElement === \"function\" ? triggerElement() : triggerElement;\n    cleanups.push(proxyTabFocusImpl(node, _objectSpread({\n      triggerElement: trigger\n    }, restOptions)));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn === null || fn === void 0 ? void 0 : fn());\n  };\n}\n\n// src/query.ts\nfunction queryAll(root, selector) {\n  var _root$querySelectorAl;\n  return Array.from((_root$querySelectorAl = root === null || root === void 0 ? void 0 : root.querySelectorAll(selector)) !== null && _root$querySelectorAl !== void 0 ? _root$querySelectorAl : []);\n}\nfunction query(root, selector) {\n  var _root$querySelector;\n  return (_root$querySelector = root === null || root === void 0 ? void 0 : root.querySelector(selector)) !== null && _root$querySelector !== void 0 ? _root$querySelector : null;\n}\nvar defaultItemToId = v => v.id;\nfunction itemById(v, id) {\n  let itemToId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultItemToId;\n  return v.find(item => itemToId(item) === id);\n}\nfunction indexOfId(v, id) {\n  let itemToId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultItemToId;\n  const item = itemById(v, id, itemToId);\n  return item ? v.indexOf(item) : -1;\n}\nfunction nextById(v, id) {\n  let loop = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  let idx = indexOfId(v, id);\n  idx = loop ? (idx + 1) % v.length : Math.min(idx + 1, v.length - 1);\n  return v[idx];\n}\nfunction prevById(v, id) {\n  let loop = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  let idx = indexOfId(v, id);\n  if (idx === -1) return loop ? v[v.length - 1] : null;\n  idx = loop ? (idx - 1 + v.length) % v.length : Math.max(0, idx - 1);\n  return v[idx];\n}\n\n// src/resize-observer.ts\nfunction trackElementRect(elements, options) {\n  const {\n    onEntry,\n    measure,\n    box = \"border-box\"\n  } = options;\n  const elems = (Array.isArray(elements) ? elements : [elements]).filter(isHTMLElement);\n  const win = getWindow(elems[0]);\n  const trigger = entries => {\n    const rects = elems.map(el => measure(el));\n    onEntry({\n      rects,\n      entries\n    });\n  };\n  trigger([]);\n  const obs = new win.ResizeObserver(trigger);\n  elems.forEach(el => obs.observe(el, {\n    box\n  }));\n  return () => obs.disconnect();\n}\n\n// src/scope.ts\nfunction createScope(methods) {\n  const dom = {\n    getRootNode: ctx => {\n      var _ctx$getRootNode, _ctx$getRootNode2;\n      return (_ctx$getRootNode = (_ctx$getRootNode2 = ctx.getRootNode) === null || _ctx$getRootNode2 === void 0 ? void 0 : _ctx$getRootNode2.call(ctx)) !== null && _ctx$getRootNode !== void 0 ? _ctx$getRootNode : document;\n    },\n    getDoc: ctx => getDocument(dom.getRootNode(ctx)),\n    getWin: ctx => {\n      var _dom$getDoc$defaultVi;\n      return (_dom$getDoc$defaultVi = dom.getDoc(ctx).defaultView) !== null && _dom$getDoc$defaultVi !== void 0 ? _dom$getDoc$defaultVi : window;\n    },\n    getActiveElement: ctx => getActiveElement(dom.getRootNode(ctx)),\n    isActiveElement,\n    getById: (ctx, id) => dom.getRootNode(ctx).getElementById(id),\n    setValue: (elem, value) => {\n      if (elem == null || value == null) return;\n      setElementValue(elem, value.toString());\n    }\n  };\n  return _objectSpread(_objectSpread({}, dom), methods);\n}\n\n// src/searchable.ts\nvar sanitize = str => str.split(\"\").map(char => {\n  const code = char.charCodeAt(0);\n  if (code > 0 && code < 128) return char;\n  if (code >= 128 && code <= 255) return \"/x\".concat(code.toString(16)).replace(\"/\", \"\\\\\");\n  return \"\";\n}).join(\"\").trim();\nvar getValueText = el => {\n  var _ref3, _el$dataset$valuetext, _el$dataset;\n  return sanitize((_ref3 = (_el$dataset$valuetext = (_el$dataset = el.dataset) === null || _el$dataset === void 0 ? void 0 : _el$dataset.valuetext) !== null && _el$dataset$valuetext !== void 0 ? _el$dataset$valuetext : el.textContent) !== null && _ref3 !== void 0 ? _ref3 : \"\");\n};\nvar match = (valueText, query2) => {\n  return valueText.trim().toLowerCase().startsWith(query2.toLowerCase());\n};\nfunction getByText(v, text, currentId) {\n  let itemToId = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultItemToId;\n  const index = currentId ? indexOfId(v, currentId, itemToId) : -1;\n  let items = currentId ? wrap(v, index) : v;\n  const isSingleKey = text.length === 1;\n  if (isSingleKey) {\n    items = items.filter(item => itemToId(item) !== currentId);\n  }\n  return items.find(item => match(getValueText(item), text));\n}\n\n// src/set.ts\nfunction setAttribute(el, attr, v) {\n  const prev = el.getAttribute(attr);\n  const exists = prev != null;\n  el.setAttribute(attr, v);\n  return () => {\n    if (!exists) {\n      el.removeAttribute(attr);\n    } else {\n      el.setAttribute(attr, prev);\n    }\n  };\n}\nfunction setProperty(el, prop, v) {\n  const exists = prop in el;\n  const prev = el[prop];\n  el[prop] = v;\n  return () => {\n    if (!exists) {\n      delete el[prop];\n    } else {\n      el[prop] = prev;\n    }\n  };\n}\nfunction setStyle(el, style) {\n  if (!el) return noop;\n  const prev = Object.keys(style).reduce((acc, key) => {\n    acc[key] = el.style.getPropertyValue(key);\n    return acc;\n  }, {});\n  Object.assign(el.style, style);\n  return () => {\n    Object.assign(el.style, prev);\n    if (el.style.length === 0) {\n      el.removeAttribute(\"style\");\n    }\n  };\n}\nfunction setStyleProperty(el, prop, value) {\n  if (!el) return noop;\n  const prev = el.style.getPropertyValue(prop);\n  el.style.setProperty(prop, value);\n  return () => {\n    el.style.setProperty(prop, prev);\n    if (el.style.length === 0) {\n      el.removeAttribute(\"style\");\n    }\n  };\n}\n\n// src/typeahead.ts\nfunction getByTypeaheadImpl(baseItems, options) {\n  const {\n    state: state2,\n    activeId,\n    key,\n    timeout = 350,\n    itemToId\n  } = options;\n  const search = state2.keysSoFar + key;\n  const isRepeated = search.length > 1 && Array.from(search).every(char => char === search[0]);\n  const query2 = isRepeated ? search[0] : search;\n  let items = baseItems.slice();\n  const next = getByText(items, query2, activeId, itemToId);\n  function cleanup() {\n    clearTimeout(state2.timer);\n    state2.timer = -1;\n  }\n  function update(value) {\n    state2.keysSoFar = value;\n    cleanup();\n    if (value !== \"\") {\n      state2.timer = +setTimeout(() => {\n        update(\"\");\n        cleanup();\n      }, timeout);\n    }\n  }\n  update(search);\n  return next;\n}\nvar getByTypeahead = /* @__PURE__ */Object.assign(getByTypeaheadImpl, {\n  defaultOptions: {\n    keysSoFar: \"\",\n    timer: -1\n  },\n  isValidEvent: isValidTypeaheadEvent\n});\nfunction isValidTypeaheadEvent(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\n\n// src/visual-viewport.ts\nfunction trackVisualViewport(doc, fn) {\n  var _win$visualViewport;\n  const win = (doc === null || doc === void 0 ? void 0 : doc.defaultView) || window;\n  const onResize = () => {\n    fn === null || fn === void 0 || fn(getViewportSize(win));\n  };\n  onResize();\n  return addDomEvent((_win$visualViewport = win.visualViewport) !== null && _win$visualViewport !== void 0 ? _win$visualViewport : win, \"resize\", onResize);\n}\nfunction getViewportSize(win) {\n  var _win$visualViewport2, _win$visualViewport3;\n  return {\n    width: ((_win$visualViewport2 = win.visualViewport) === null || _win$visualViewport2 === void 0 ? void 0 : _win$visualViewport2.width) || win.innerWidth,\n    height: ((_win$visualViewport3 = win.visualViewport) === null || _win$visualViewport3 === void 0 ? void 0 : _win$visualViewport3.height) || win.innerHeight\n  };\n}\n\n// src/visually-hidden.ts\nvar visuallyHiddenStyle = {\n  border: \"0\",\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  padding: \"0\",\n  position: \"absolute\",\n  width: \"1px\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n};\nfunction setVisuallyHidden(el) {\n  Object.assign(el.style, visuallyHiddenStyle);\n}\n\n// src/wait-for.ts\nfunction waitForPromise(promise, controller, timeout) {\n  const {\n    signal\n  } = controller;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error(\"Timeout of \".concat(timeout, \"ms exceeded\")));\n    }, timeout);\n    signal.addEventListener(\"abort\", () => {\n      clearTimeout(timeoutId);\n      reject(new Error(\"Promise aborted\"));\n    });\n    promise.then(result => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        resolve(result);\n      }\n    }).catch(error => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        reject(error);\n      }\n    });\n  });\n  const abort = () => controller.abort();\n  return [wrappedPromise, abort];\n}\nfunction waitForElement(target, options) {\n  const {\n    timeout,\n    rootNode\n  } = options;\n  const win = getWindow(rootNode);\n  const doc = getDocument(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(new Promise(resolve => {\n    const el = target();\n    if (el) {\n      resolve(el);\n      return;\n    }\n    const observer = new win.MutationObserver(() => {\n      const el2 = target();\n      if (el2 && el2.isConnected) {\n        observer.disconnect();\n        resolve(el2);\n      }\n    });\n    observer.observe(doc.body, {\n      childList: true,\n      subtree: true\n    });\n  }), controller, timeout);\n}\nexport { MAX_Z_INDEX, addDomEvent, ariaAttr, clickIfLink, contains, createScope, dataAttr, defaultItemToId, disableTextSelection, dispatchInputCheckedEvent, dispatchInputValueEvent, getActiveElement, getBeforeInputValue, getByText, getByTypeahead, getComputedStyle, getDataUrl, getDocument, getDocumentElement, getEventKey, getEventPoint, getEventStep, getEventTarget, getFirstFocusable, getFirstTabbable, getFocusables, getInitialFocus, getLastTabbable, getNativeEvent, getNearestOverflowAncestor, getNextTabbable, getNodeName, getOverflowAncestors, getParentNode, getPlatform, getRelativePoint, getScrollPosition, getTabIndex, getTabbableEdges, getTabbables, getUserAgent, getWindow, indexOfId, isActiveElement, isAnchorElement, isAndroid, isApple, isCaretAtStart, isChrome, isComposingEvent, isContextMenuEvent, isCtrlOrMetaKey, isDocument, isDom, isDownloadingEvent, isEditableElement, isElementVisible, isFirefox, isFocusable, isHTMLElement, isIPad, isIPhone, isInView, isInputElement, isIos, isKeyboardClick, isLeftClick, isMac, isModifierKey, isNode, isOpeningInNewTab, isOverflowElement, isPrintableKey, isRootElement, isSafari, isShadowRoot, isTabbable, isTouchDevice, isTouchEvent, isValidTabEvent, isVirtualClick, isVirtualPointerEvent, isVisualViewport, isWebKit, isWindow, itemById, nextById, nextTick, observeAttributes, observeChildren, prevById, proxyTabFocus, query, queryAll, queueBeforeEvent, raf, requestPointerLock, restoreTextSelection, scrollIntoView, setAttribute, setCaretToEnd, setElementChecked, setElementValue, setProperty, setStyle, setStyleProperty, setVisuallyHidden, trackElementRect, trackFormControl, trackPointerMove, trackPress, trackVisualViewport, visuallyHiddenStyle, waitForElement, waitForPromise };","map":{"version":3,"names":["isCaretAtStart","input","selectionStart","selectionEnd","_unused","value","setCaretToEnd","_input$selectionStart","_input$selectionEnd","start","end","Math","abs","setSelectionRange","length","clamp","max","min","wrap","v","idx","map","_","index","pipe","_len","arguments","fns","Array","_key","arg","reduce","acc","fn","noop","isObject","MAX_Z_INDEX","dataAttr","guard","ariaAttr","ELEMENT_NODE","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","isHTMLElement","el","nodeType","nodeName","isDocument","isWindow","window","isVisualViewport","constructor","name","getNodeName","node","localName","isRootElement","includes","isNode","isShadowRoot","isInputElement","isAnchorElement","matches","isElementVisible","offsetWidth","offsetHeight","getClientRects","isActiveElement","element","rootNode","getRootNode","getActiveElement","TEXTAREA_SELECT_REGEX","isEditableElement","test","isContentEditable","getAttribute","_unused2","contains","parent","child","_child$getRootNode","call","next","parentNode","host","getDocument","_el$ownerDocument","document","ownerDocument","getDocumentElement","documentElement","getWindow","_el$defaultView","_el$ownerDocument$def","_el$ownerDocument2","defaultView","activeElement","_activeElement","shadowRoot","getParentNode","result","assignedSlot","styleCache","WeakMap","getComputedStyle","has","set","get","getDataUrl","svg","opts","type","quality","background","Error","win","doc","svgBounds","getBoundingClientRect","svgClone","cloneNode","hasAttribute","setAttribute","concat","width","height","serializer","XMLSerializer","source","serializeToString","svgString","encodeURIComponent","Promise","resolve","then","str","remove","dpr","devicePixelRatio","canvas","createElement","image","Image","src","context","getContext","fillStyle","fillRect","onload","drawImage","toDataURL","isDom","getPlatform","_agent$platform","agent","navigator","userAgentData","platform","getUserAgent","ua2","isArray","brands","_ref","brand","version","join","userAgent","pt","ua","vn","vendor","isTouchDevice","maxTouchPoints","isIPhone","isIPad","isMac","isIos","isApple","isSafari","isFirefox","isChrome","isWebKit","isAndroid","getBeforeInputValue","event","currentTarget","data","slice","getComposedPath","_event$composedPath","_event$composedPath2","_event$nativeEvent","_event$nativeEvent$co","composedPath","nativeEvent","getEventTarget","_composedPath$","target","isOpeningInNewTab","validElement","isMiddleClick","button","isModKeyClick","isCtrlOrMetaKey","isDownloadingEvent","altKey","isComposingEvent","getNativeEvent","isComposing","keyCode","isKeyboardClick","e","detail","clientX","clientY","metaKey","ctrlKey","isPrintableKey","key","isVirtualPointerEvent","pressure","pointerType","isVirtualClick","isTrusted","buttons","isLeftClick","isContextMenuEvent","isModifierKey","isTouchEvent","touches","keyMap","Up","Down","Esc","Left","Right","rtlKeyMap","ArrowLeft","ArrowRight","getEventKey","_keyMap$key","options","undefined","dir","orientation","isRtl","_event$nativeEvent2","pageKeys","Set","arrowKeys","getEventStep","isPageKey","isSkipKey","shiftKey","getEventPoint","point","changedTouches","x","y","addDomEvent","eventName","handler","addEventListener","removeEventListener","getDescriptor","_Object$getOwnPropert","property","proto","prototype","Object","getOwnPropertyDescriptor","getElementType","setElementValue","_descriptor$set","descriptor","setElementChecked","checked","_descriptor$set2","removeAttribute","dispatchInputValueEvent","bubbles","HTMLInputElement","dispatchEvent","Event","dispatchInputCheckedEvent","getClosestForm","isFormElement","form","closest","trackFormReset","callback","onReset","defaultPrevented","passive","trackFieldsetDisabled","fieldset","disabled","obs","MutationObserver","observe","attributes","attributeFilter","disconnect","trackFormControl","onFieldsetDisabledChange","onFormReset","cleanups","forEach","cleanup","isFrame","tagName","hasTabIndex","Number","isNaN","parseInt","hasNegativeTabIndex","focusableSelector","getFocusables","container","includeContainer","elements","from","querySelectorAll","include","isFocusable","unshift","focusableElements","filter","i","contentDocument","frameBody","body","splice","getFirstFocusable","first","getTabbables","tabbableElements","isTabbable","allFrameTabbable","tabIndex","getFirstTabbable","getLastTabbable","getTabbableEdges","last","getNextTabbable","current","tabbables","currentElement","indexOf","getTabIndex","getInitialFocus","root","getInitialEl","enabled","querySelector","isValidTabEvent","firstTabbable","lastTabbable","nextTick","raf2","fn2","id","globalThis","requestAnimationFrame","add","cancelAnimationFrame","raf","_cleanup","queueBeforeEvent","cb","cancelTimer","exec","once","capture","observeAttributesImpl","changes","change","attributeName","observeAttributes","nodeOrFn","defer","func","push","observeChildrenImpl","childList","subtree","observeChildren","clickIfLink","click","MouseEvent","queueMicrotask","getNearestOverflowAncestor","isOverflowElement","getOverflowAncestors","list","scrollableAncestor","isBody","visualViewport","getElementRect","top","left","bottom","right","innerHeight","innerWidth","isInView","ancestor","ancestorRect","elRect","OVERFLOW_RE","nonOverflowValues","overflow","overflowX","overflowY","display","isScrollable","scrollHeight","clientHeight","scrollWidth","clientWidth","scrollIntoView","_ref2","rootEl","scrollOptions","_objectWithoutProperties","_excluded","getScrollPosition","scrollLeft","scrollTop","scrollX","scrollY","getRelativePoint","offset","percent","getPercentValue","inverted","invertX","invertY","requestPointerLock","supported","isLocked","pointerLockElement","onPointerChange","onPointerError","console","error","exitPointerLock","_unused3","cleanup2","state","userSelect","elementMap","disableTextSelectionImpl","docNode","style","webkitUserSelect","restoreTextSelection","setTimeout","prevUserSelect","delete","disableTextSelection","restOptions","_excluded2","_objectSpread","trackPointerMove","handlers","onPointerMove","onPointerUp","handleMove","distance","sqrt","moveBuffer","handleUp","trackPress","pointerNode","keyboardNode","onPress","onPressStart","onPressEnd","isValidKey","removeStartListeners","removeEndListeners","removeAccessibleListeners","getInfo","startPress","cancelPress","startPointerPress","startEvent","endPointerPress","endEvent","removePointerUpListener","removePointerCancelListener","preventDefault","removePointerListener","removeFocusListener","startAccessiblePress","handleKeydown","keydownEvent","handleKeyup","keyupEvent","evt2","PointerEvent","info","evt","handleBlur","removeKeydownListener","removeBlurListener","proxyTabFocusImpl","triggerElement","onFocus","onFocusEnter","onKeyDown","elementToFocus","nextTabbableAfterTrigger","noTabbableElements","focus","proxyTabFocus","_excluded3","trigger","queryAll","selector","_root$querySelectorAl","query","_root$querySelector","defaultItemToId","itemById","itemToId","find","item","indexOfId","nextById","loop","prevById","trackElementRect","onEntry","measure","box","elems","entries","rects","ResizeObserver","createScope","methods","dom","ctx","_ctx$getRootNode","_ctx$getRootNode2","getDoc","getWin","_dom$getDoc$defaultVi","getById","getElementById","setValue","elem","toString","sanitize","split","char","code","charCodeAt","replace","trim","getValueText","_ref3","_el$dataset$valuetext","_el$dataset","dataset","valuetext","textContent","match","valueText","query2","toLowerCase","startsWith","getByText","text","currentId","items","isSingleKey","attr","prev","exists","setProperty","prop","setStyle","keys","getPropertyValue","assign","setStyleProperty","getByTypeaheadImpl","baseItems","state2","activeId","timeout","search","keysSoFar","isRepeated","every","clearTimeout","timer","update","getByTypeahead","defaultOptions","isValidEvent","isValidTypeaheadEvent","trackVisualViewport","_win$visualViewport","onResize","getViewportSize","_win$visualViewport2","_win$visualViewport3","visuallyHiddenStyle","border","clip","margin","padding","position","whiteSpace","wordWrap","setVisuallyHidden","waitForPromise","promise","controller","signal","wrappedPromise","reject","timeoutId","aborted","catch","abort","waitForElement","AbortController","observer","el2","isConnected"],"sources":["C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@zag-js/dom-query/dist/index.mjs"],"sourcesContent":["// src/caret.ts\nfunction isCaretAtStart(input) {\n  if (!input) return false;\n  try {\n    return input.selectionStart === 0 && input.selectionEnd === 0;\n  } catch {\n    return input.value === \"\";\n  }\n}\nfunction setCaretToEnd(input) {\n  if (!input) return;\n  const start = input.selectionStart ?? 0;\n  const end = input.selectionEnd ?? 0;\n  if (Math.abs(end - start) !== 0) return;\n  if (start !== 0) return;\n  input.setSelectionRange(input.value.length, input.value.length);\n}\n\n// src/shared.ts\nvar clamp = (value) => Math.max(0, Math.min(1, value));\nvar wrap = (v, idx) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length]);\n};\nvar pipe = (...fns) => (arg) => fns.reduce((acc, fn) => fn(acc), arg);\nvar noop = () => void 0;\nvar isObject = (v) => typeof v === \"object\" && v !== null;\nvar MAX_Z_INDEX = 2147483647;\nvar dataAttr = (guard) => guard ? \"\" : void 0;\nvar ariaAttr = (guard) => guard ? \"true\" : void 0;\n\n// src/node.ts\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_NODE = 9;\nvar DOCUMENT_FRAGMENT_NODE = 11;\nvar isHTMLElement = (el) => isObject(el) && el.nodeType === ELEMENT_NODE && typeof el.nodeName === \"string\";\nvar isDocument = (el) => isObject(el) && el.nodeType === DOCUMENT_NODE;\nvar isWindow = (el) => isObject(el) && el === el.window;\nvar isVisualViewport = (el) => isObject(el) && el.constructor.name === \"VisualViewport\";\nvar getNodeName = (node) => {\n  if (isHTMLElement(node)) return node.localName || \"\";\n  return \"#document\";\n};\nfunction isRootElement(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nvar isNode = (el) => isObject(el) && el.nodeType !== void 0;\nvar isShadowRoot = (el) => isNode(el) && el.nodeType === DOCUMENT_FRAGMENT_NODE && \"host\" in el;\nvar isInputElement = (el) => isHTMLElement(el) && el.localName === \"input\";\nvar isAnchorElement = (el) => !!el?.matches(\"a[href]\");\nvar isElementVisible = (el) => {\n  if (!isHTMLElement(el)) return false;\n  return el.offsetWidth > 0 || el.offsetHeight > 0 || el.getClientRects().length > 0;\n};\nfunction isActiveElement(element) {\n  if (!element) return false;\n  const rootNode = element.getRootNode();\n  return getActiveElement(rootNode) === element;\n}\nvar TEXTAREA_SELECT_REGEX = /(textarea|select)/;\nfunction isEditableElement(el) {\n  if (el == null || !isHTMLElement(el)) return false;\n  try {\n    return isInputElement(el) && el.selectionStart != null || TEXTAREA_SELECT_REGEX.test(el.localName) || el.isContentEditable || el.getAttribute(\"contenteditable\") === \"true\" || el.getAttribute(\"contenteditable\") === \"\";\n  } catch {\n    return false;\n  }\n}\nfunction contains(parent, child) {\n  if (!parent || !child) return false;\n  if (!isHTMLElement(parent) || !isHTMLElement(child)) return false;\n  const rootNode = child.getRootNode?.();\n  if (parent === child) return true;\n  if (parent.contains(child)) return true;\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) return true;\n      next = next.parentNode || next.host;\n    }\n  }\n  return false;\n}\nfunction getDocument(el) {\n  if (isDocument(el)) return el;\n  if (isWindow(el)) return el.document;\n  return el?.ownerDocument ?? document;\n}\nfunction getDocumentElement(el) {\n  return getDocument(el).documentElement;\n}\nfunction getWindow(el) {\n  if (isShadowRoot(el)) return getWindow(el.host);\n  if (isDocument(el)) return el.defaultView ?? window;\n  if (isHTMLElement(el)) return el.ownerDocument?.defaultView ?? window;\n  return window;\n}\nfunction getActiveElement(rootNode) {\n  let activeElement = rootNode.activeElement;\n  while (activeElement?.shadowRoot) {\n    const el = activeElement.shadowRoot.activeElement;\n    if (!el || el === activeElement) break;\n    else activeElement = el;\n  }\n  return activeElement;\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") return node;\n  const result = node.assignedSlot || node.parentNode || isShadowRoot(node) && node.host || getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\n// src/computed-style.ts\nvar styleCache = /* @__PURE__ */ new WeakMap();\nfunction getComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    styleCache.set(el, getWindow(el).getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\n\n// src/data-url.ts\nfunction getDataUrl(svg, opts) {\n  const { type, quality = 0.92, background } = opts;\n  if (!svg) throw new Error(\"[zag-js > getDataUrl]: Could not find the svg element\");\n  const win = getWindow(svg);\n  const doc = win.document;\n  const svgBounds = svg.getBoundingClientRect();\n  const svgClone = svg.cloneNode(true);\n  if (!svgClone.hasAttribute(\"viewBox\")) {\n    svgClone.setAttribute(\"viewBox\", `0 0 ${svgBounds.width} ${svgBounds.height}`);\n  }\n  const serializer = new win.XMLSerializer();\n  const source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + serializer.serializeToString(svgClone);\n  const svgString = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n  if (type === \"image/svg+xml\") {\n    return Promise.resolve(svgString).then((str) => {\n      svgClone.remove();\n      return str;\n    });\n  }\n  const dpr = win.devicePixelRatio || 1;\n  const canvas = doc.createElement(\"canvas\");\n  const image = new win.Image();\n  image.src = svgString;\n  canvas.width = svgBounds.width * dpr;\n  canvas.height = svgBounds.height * dpr;\n  const context = canvas.getContext(\"2d\");\n  if (type === \"image/jpeg\" || background) {\n    context.fillStyle = background || \"white\";\n    context.fillRect(0, 0, canvas.width, canvas.height);\n  }\n  return new Promise((resolve) => {\n    image.onload = () => {\n      context?.drawImage(image, 0, 0, canvas.width, canvas.height);\n      resolve(canvas.toDataURL(type, quality));\n      svgClone.remove();\n    };\n  });\n}\n\n// src/platform.ts\nvar isDom = () => typeof document !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nfunction getUserAgent() {\n  const ua2 = navigator.userAgentData;\n  if (ua2 && Array.isArray(ua2.brands)) {\n    return ua2.brands.map(({ brand, version }) => `${brand}/${version}`).join(\" \");\n  }\n  return navigator.userAgent;\n}\nvar pt = (v) => isDom() && v.test(getPlatform());\nvar ua = (v) => isDom() && v.test(getUserAgent());\nvar vn = (v) => isDom() && v.test(navigator.vendor);\nvar isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nvar isIPhone = () => pt(/^iPhone/i);\nvar isIPad = () => pt(/^iPad/i) || isMac() && navigator.maxTouchPoints > 1;\nvar isIos = () => isIPhone() || isIPad();\nvar isApple = () => isMac() || isIos();\nvar isMac = () => pt(/^Mac/i);\nvar isSafari = () => isApple() && vn(/apple/i);\nvar isFirefox = () => ua(/Firefox/i);\nvar isChrome = () => ua(/Chrome/i);\nvar isWebKit = () => ua(/AppleWebKit/i) && !isChrome();\nvar isAndroid = () => ua(/Android/i);\n\n// src/event.ts\nfunction getBeforeInputValue(event) {\n  const { selectionStart, selectionEnd, value } = event.currentTarget;\n  const data = event.data;\n  return value.slice(0, selectionStart) + (data ?? \"\") + value.slice(selectionEnd);\n}\nfunction getComposedPath(event) {\n  return event.composedPath?.() ?? event.nativeEvent?.composedPath?.();\n}\nfunction getEventTarget(event) {\n  const composedPath = getComposedPath(event);\n  return composedPath?.[0] ?? event.target;\n}\nfunction isOpeningInNewTab(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const validElement = element.matches(\"a[href], button[type='submit'], input[type='submit']\");\n  if (!validElement) return false;\n  const isMiddleClick = event.button === 1;\n  const isModKeyClick = isCtrlOrMetaKey(event);\n  return isMiddleClick || isModKeyClick;\n}\nfunction isDownloadingEvent(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const localName = element.localName;\n  if (!event.altKey) return false;\n  if (localName === \"a\") return true;\n  if (localName === \"button\" && element.type === \"submit\") return true;\n  if (localName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isComposingEvent(event) {\n  return getNativeEvent(event).isComposing || event.keyCode === 229;\n}\nfunction isKeyboardClick(e) {\n  return e.detail === 0 || e.clientX === 0 && e.clientY === 0;\n}\nfunction isCtrlOrMetaKey(e) {\n  if (isMac()) return e.metaKey;\n  return e.ctrlKey;\n}\nfunction isPrintableKey(e) {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey;\n}\nfunction isVirtualPointerEvent(e) {\n  return e.width === 0 && e.height === 0 || e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\";\n}\nfunction isVirtualClick(e) {\n  if (e.pointerType === \"\" && e.isTrusted) return true;\n  if (isAndroid() && e.pointerType) {\n    return e.type === \"click\" && e.buttons === 1;\n  }\n  return e.detail === 0 && !e.pointerType;\n}\nvar isLeftClick = (e) => e.button === 0;\nvar isContextMenuEvent = (e) => {\n  return e.button === 2 || isMac() && e.ctrlKey && e.button === 0;\n};\nvar isModifierKey = (e) => e.ctrlKey || e.altKey || e.metaKey;\nvar isTouchEvent = (event) => \"touches\" in event && event.touches.length > 0;\nvar keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\"\n};\nvar rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\"\n};\nfunction getEventKey(event, options = {}) {\n  const { dir = \"ltr\", orientation = \"horizontal\" } = options;\n  let key = event.key;\n  key = keyMap[key] ?? key;\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\";\n  if (isRtl && key in rtlKeyMap) key = rtlKeyMap[key];\n  return key;\n}\nfunction getNativeEvent(event) {\n  return event.nativeEvent ?? event;\n}\nvar pageKeys = /* @__PURE__ */ new Set([\"PageUp\", \"PageDown\"]);\nvar arrowKeys = /* @__PURE__ */ new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"]);\nfunction getEventStep(event) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1;\n  } else {\n    const isPageKey = pageKeys.has(event.key);\n    const isSkipKey = isPageKey || event.shiftKey && arrowKeys.has(event.key);\n    return isSkipKey ? 10 : 1;\n  }\n}\nfunction getEventPoint(event, type = \"client\") {\n  const point = isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n  return { x: point[`${type}X`], y: point[`${type}Y`] };\n}\nvar addDomEvent = (target, eventName, handler, options) => {\n  const node = typeof target === \"function\" ? target() : target;\n  node?.addEventListener(eventName, handler, options);\n  return () => {\n    node?.removeEventListener(eventName, handler, options);\n  };\n};\n\n// src/form.ts\nfunction getDescriptor(el, options) {\n  const { type = \"HTMLInputElement\", property = \"value\" } = options;\n  const proto = getWindow(el)[type].prototype;\n  return Object.getOwnPropertyDescriptor(proto, property) ?? {};\n}\nfunction getElementType(el) {\n  if (el.localName === \"input\") return \"HTMLInputElement\";\n  if (el.localName === \"textarea\") return \"HTMLTextAreaElement\";\n  if (el.localName === \"select\") return \"HTMLSelectElement\";\n}\nfunction setElementValue(el, value, property = \"value\") {\n  if (!el) return;\n  const type = getElementType(el);\n  if (type) {\n    const descriptor = getDescriptor(el, { type, property });\n    descriptor.set?.call(el, value);\n  }\n  el.setAttribute(property, value);\n}\nfunction setElementChecked(el, checked) {\n  if (!el) return;\n  const descriptor = getDescriptor(el, { type: \"HTMLInputElement\", property: \"checked\" });\n  descriptor.set?.call(el, checked);\n  if (checked) el.setAttribute(\"checked\", \"\");\n  else el.removeAttribute(\"checked\");\n}\nfunction dispatchInputValueEvent(el, options) {\n  const { value, bubbles = true } = options;\n  if (!el) return;\n  const win = getWindow(el);\n  if (!(el instanceof win.HTMLInputElement)) return;\n  setElementValue(el, `${value}`);\n  el.dispatchEvent(new win.Event(\"input\", { bubbles }));\n}\nfunction dispatchInputCheckedEvent(el, options) {\n  const { checked, bubbles = true } = options;\n  if (!el) return;\n  const win = getWindow(el);\n  if (!(el instanceof win.HTMLInputElement)) return;\n  setElementChecked(el, checked);\n  el.dispatchEvent(new win.Event(\"click\", { bubbles }));\n}\nfunction getClosestForm(el) {\n  return isFormElement(el) ? el.form : el.closest(\"form\");\n}\nfunction isFormElement(el) {\n  return el.matches(\"textarea, input, select, button\");\n}\nfunction trackFormReset(el, callback) {\n  if (!el) return;\n  const form = getClosestForm(el);\n  const onReset = (e) => {\n    if (e.defaultPrevented) return;\n    callback();\n  };\n  form?.addEventListener(\"reset\", onReset, { passive: true });\n  return () => form?.removeEventListener(\"reset\", onReset);\n}\nfunction trackFieldsetDisabled(el, callback) {\n  const fieldset = el?.closest(\"fieldset\");\n  if (!fieldset) return;\n  callback(fieldset.disabled);\n  const win = getWindow(fieldset);\n  const obs = new win.MutationObserver(() => callback(fieldset.disabled));\n  obs.observe(fieldset, {\n    attributes: true,\n    attributeFilter: [\"disabled\"]\n  });\n  return () => obs.disconnect();\n}\nfunction trackFormControl(el, options) {\n  if (!el) return;\n  const { onFieldsetDisabledChange, onFormReset } = options;\n  const cleanups = [trackFormReset(el, onFormReset), trackFieldsetDisabled(el, onFieldsetDisabledChange)];\n  return () => cleanups.forEach((cleanup) => cleanup?.());\n}\n\n// src/tabbable.ts\nvar isFrame = (el) => isHTMLElement(el) && el.tagName === \"IFRAME\";\nvar hasTabIndex = (el) => !Number.isNaN(parseInt(el.getAttribute(\"tabindex\") || \"0\", 10));\nvar hasNegativeTabIndex = (el) => parseInt(el.getAttribute(\"tabindex\") || \"0\", 10) < 0;\nvar focusableSelector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type\";\nvar getFocusables = (container, includeContainer = false) => {\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const include = includeContainer == true || includeContainer == \"if-empty\" && elements.length === 0;\n  if (include && isHTMLElement(container) && isFocusable(container)) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getFocusables(frameBody));\n    }\n  });\n  return focusableElements;\n};\nfunction isFocusable(element) {\n  if (!element || element.closest(\"[inert]\")) return false;\n  return element.matches(focusableSelector) && isElementVisible(element);\n}\nfunction getFirstFocusable(container, includeContainer) {\n  const [first] = getFocusables(container, includeContainer);\n  return first || null;\n}\nfunction getTabbables(container, includeContainer) {\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getTabbables(frameBody);\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && includeContainer) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction isTabbable(el) {\n  if (el != null && el.tabIndex > 0) return true;\n  return isFocusable(el) && !hasNegativeTabIndex(el);\n}\nfunction getFirstTabbable(container, includeContainer) {\n  const [first] = getTabbables(container, includeContainer);\n  return first || null;\n}\nfunction getLastTabbable(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  return elements[elements.length - 1] || null;\n}\nfunction getTabbableEdges(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  const first = elements[0] || null;\n  const last = elements[elements.length - 1] || null;\n  return [first, last];\n}\nfunction getNextTabbable(container, current) {\n  const tabbables = getTabbables(container);\n  const doc = container?.ownerDocument || document;\n  const currentElement = current ?? getActiveElement(doc);\n  if (!currentElement) return null;\n  const index = tabbables.indexOf(currentElement);\n  return tabbables[index + 1] || null;\n}\nfunction getTabIndex(node) {\n  if (node.tabIndex < 0) {\n    if ((/^(audio|video|details)$/.test(node.localName) || isEditableElement(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n}\n\n// src/initial-focus.ts\nfunction getInitialFocus(options) {\n  const { root, getInitialEl, filter, enabled = true } = options;\n  if (!enabled) return;\n  let node = null;\n  node || (node = typeof getInitialEl === \"function\" ? getInitialEl() : getInitialEl);\n  node || (node = root?.querySelector(\"[data-autofocus],[autofocus]\"));\n  if (!node) {\n    const tabbables = getTabbables(root);\n    node = filter ? tabbables.filter(filter)[0] : tabbables[0];\n  }\n  return node || root || void 0;\n}\nfunction isValidTabEvent(event) {\n  const container = event.currentTarget;\n  if (!container) return false;\n  const [firstTabbable, lastTabbable] = getTabbableEdges(container);\n  if (isActiveElement(firstTabbable) && event.shiftKey) return false;\n  if (isActiveElement(lastTabbable) && !event.shiftKey) return false;\n  if (!firstTabbable && !lastTabbable) return false;\n  return true;\n}\n\n// src/raf.ts\nfunction nextTick(fn) {\n  const set = /* @__PURE__ */ new Set();\n  function raf2(fn2) {\n    const id = globalThis.requestAnimationFrame(fn2);\n    set.add(() => globalThis.cancelAnimationFrame(id));\n  }\n  raf2(() => raf2(fn));\n  return function cleanup() {\n    set.forEach((fn2) => fn2());\n  };\n}\nfunction raf(fn) {\n  let cleanup;\n  const id = globalThis.requestAnimationFrame(() => {\n    cleanup = fn();\n  });\n  return () => {\n    globalThis.cancelAnimationFrame(id);\n    cleanup?.();\n  };\n}\nfunction queueBeforeEvent(el, type, cb) {\n  const cancelTimer = raf(() => {\n    el.removeEventListener(type, exec, true);\n    cb();\n  });\n  const exec = () => {\n    cancelTimer();\n    cb();\n  };\n  el.addEventListener(type, exec, { once: true, capture: true });\n  return cancelTimer;\n}\n\n// src/mutation-observer.ts\nfunction observeAttributesImpl(node, options) {\n  if (!node) return;\n  const { attributes, callback: fn } = options;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver((changes) => {\n    for (const change of changes) {\n      if (change.type === \"attributes\" && change.attributeName && attributes.includes(change.attributeName)) {\n        fn(change);\n      }\n    }\n  });\n  obs.observe(node, { attributes: true, attributeFilter: attributes });\n  return () => obs.disconnect();\n}\nfunction observeAttributes(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n      cleanups.push(observeAttributesImpl(node, options));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\nfunction observeChildrenImpl(node, options) {\n  const { callback: fn } = options;\n  if (!node) return;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver(fn);\n  obs.observe(node, { childList: true, subtree: true });\n  return () => obs.disconnect();\n}\nfunction observeChildren(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n      cleanups.push(observeChildrenImpl(node, options));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n// src/navigate.ts\nfunction clickIfLink(el) {\n  const click = () => {\n    const win = getWindow(el);\n    el.dispatchEvent(new win.MouseEvent(\"click\"));\n  };\n  if (isFirefox()) {\n    queueBeforeEvent(el, \"keyup\", click);\n  } else {\n    queueMicrotask(click);\n  }\n}\n\n// src/overflow.ts\nfunction getNearestOverflowAncestor(el) {\n  const parentNode = getParentNode(el);\n  if (isRootElement(parentNode)) return getDocument(parentNode).body;\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) return parentNode;\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(el, list = []) {\n  const scrollableAncestor = getNearestOverflowAncestor(el);\n  const isBody = scrollableAncestor === el.ownerDocument.body;\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, []));\n}\nvar getElementRect = (el) => {\n  if (isHTMLElement(el)) return el.getBoundingClientRect();\n  if (isVisualViewport(el)) return { top: 0, left: 0, bottom: el.height, right: el.width };\n  return { top: 0, left: 0, bottom: el.innerHeight, right: el.innerWidth };\n};\nfunction isInView(el, ancestor) {\n  if (!isHTMLElement(el)) return true;\n  const ancestorRect = getElementRect(ancestor);\n  const elRect = el.getBoundingClientRect();\n  return elRect.top >= ancestorRect.top && elRect.left >= ancestorRect.left && elRect.bottom <= ancestorRect.bottom && elRect.right <= ancestorRect.right;\n}\nvar OVERFLOW_RE = /auto|scroll|overlay|hidden|clip/;\nvar nonOverflowValues = /* @__PURE__ */ new Set([\"inline\", \"contents\"]);\nfunction isOverflowElement(el) {\n  const win = getWindow(el);\n  const { overflow, overflowX, overflowY, display } = win.getComputedStyle(el);\n  return OVERFLOW_RE.test(overflow + overflowY + overflowX) && !nonOverflowValues.has(display);\n}\nfunction isScrollable(el) {\n  return el.scrollHeight > el.clientHeight || el.scrollWidth > el.clientWidth;\n}\nfunction scrollIntoView(el, options) {\n  const { rootEl, ...scrollOptions } = options || {};\n  if (!el || !rootEl) return;\n  if (!isOverflowElement(rootEl) || !isScrollable(rootEl)) return;\n  el.scrollIntoView(scrollOptions);\n}\nfunction getScrollPosition(element) {\n  if (isHTMLElement(element)) {\n    return { scrollLeft: element.scrollLeft, scrollTop: element.scrollTop };\n  }\n  return { scrollLeft: element.scrollX, scrollTop: element.scrollY };\n}\n\n// src/point.ts\nfunction getRelativePoint(point, element) {\n  const { left, top, width, height } = element.getBoundingClientRect();\n  const offset = { x: point.x - left, y: point.y - top };\n  const percent = { x: clamp(offset.x / width), y: clamp(offset.y / height) };\n  function getPercentValue(options = {}) {\n    const { dir = \"ltr\", orientation = \"horizontal\", inverted } = options;\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted;\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted;\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x;\n    }\n    return invertY ? 1 - percent.y : percent.y;\n  }\n  return { offset, percent, getPercentValue };\n}\n\n// src/pointer-lock.ts\nfunction requestPointerLock(doc, fn) {\n  const body = doc.body;\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc;\n  const isLocked = () => !!doc.pointerLockElement;\n  function onPointerChange() {\n    fn?.(isLocked());\n  }\n  function onPointerError(event) {\n    if (isLocked()) fn?.(false);\n    console.error(\"PointerLock error occurred:\", event);\n    doc.exitPointerLock();\n  }\n  if (!supported) return;\n  try {\n    body.requestPointerLock();\n  } catch {\n  }\n  const cleanup = [\n    addDomEvent(doc, \"pointerlockchange\", onPointerChange, false),\n    addDomEvent(doc, \"pointerlockerror\", onPointerError, false)\n  ];\n  return () => {\n    cleanup.forEach((cleanup2) => cleanup2());\n    doc.exitPointerLock();\n  };\n}\n\n// src/text-selection.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */ new WeakMap();\nfunction disableTextSelectionImpl(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({ target, doc: docNode });\n}\nfunction restoreTextSelection(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection(options = {}) {\n  const { defer, target, ...restOptions } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof target === \"function\" ? target() : target;\n      cleanups.push(disableTextSelectionImpl({ ...restOptions, target: node }));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n// src/pointer-move.ts\nfunction trackPointerMove(doc, handlers) {\n  const { onPointerMove, onPointerUp } = handlers;\n  const handleMove = (event) => {\n    const point = getEventPoint(event);\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2);\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5;\n    if (distance < moveBuffer) return;\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      handleUp(event);\n      return;\n    }\n    onPointerMove({ point, event });\n  };\n  const handleUp = (event) => {\n    const point = getEventPoint(event);\n    onPointerUp({ point, event });\n  };\n  const cleanups = [\n    addDomEvent(doc, \"pointermove\", handleMove, false),\n    addDomEvent(doc, \"pointerup\", handleUp, false),\n    addDomEvent(doc, \"pointercancel\", handleUp, false),\n    addDomEvent(doc, \"contextmenu\", handleUp, false),\n    disableTextSelection({ doc })\n  ];\n  return () => {\n    cleanups.forEach((cleanup) => cleanup());\n  };\n}\n\n// src/press.ts\nfunction trackPress(options) {\n  const {\n    pointerNode,\n    keyboardNode = pointerNode,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isValidKey = (e) => e.key === \"Enter\"\n  } = options;\n  if (!pointerNode) return noop;\n  const win = getWindow(pointerNode);\n  let removeStartListeners = noop;\n  let removeEndListeners = noop;\n  let removeAccessibleListeners = noop;\n  const getInfo = (event) => ({\n    point: getEventPoint(event),\n    event\n  });\n  function startPress(event) {\n    onPressStart?.(getInfo(event));\n  }\n  function cancelPress(event) {\n    onPressEnd?.(getInfo(event));\n  }\n  const startPointerPress = (startEvent) => {\n    removeEndListeners();\n    const endPointerPress = (endEvent) => {\n      const target = getEventTarget(endEvent);\n      if (contains(pointerNode, target)) {\n        onPress?.(getInfo(endEvent));\n      } else {\n        onPressEnd?.(getInfo(endEvent));\n      }\n    };\n    const removePointerUpListener = addDomEvent(win, \"pointerup\", endPointerPress, { passive: !onPress, once: true });\n    const removePointerCancelListener = addDomEvent(win, \"pointercancel\", cancelPress, {\n      passive: !onPressEnd,\n      once: true\n    });\n    removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n    if (isActiveElement(keyboardNode) && startEvent.pointerType === \"mouse\") {\n      startEvent.preventDefault();\n    }\n    startPress(startEvent);\n  };\n  const removePointerListener = addDomEvent(pointerNode, \"pointerdown\", startPointerPress, { passive: !onPressStart });\n  const removeFocusListener = addDomEvent(keyboardNode, \"focus\", startAccessiblePress);\n  removeStartListeners = pipe(removePointerListener, removeFocusListener);\n  function startAccessiblePress() {\n    const handleKeydown = (keydownEvent) => {\n      if (!isValidKey(keydownEvent)) return;\n      const handleKeyup = (keyupEvent) => {\n        if (!isValidKey(keyupEvent)) return;\n        const evt2 = new win.PointerEvent(\"pointerup\");\n        const info = getInfo(evt2);\n        onPress?.(info);\n        onPressEnd?.(info);\n      };\n      removeEndListeners();\n      removeEndListeners = addDomEvent(keyboardNode, \"keyup\", handleKeyup);\n      const evt = new win.PointerEvent(\"pointerdown\");\n      startPress(evt);\n    };\n    const handleBlur = () => {\n      const evt = new win.PointerEvent(\"pointercancel\");\n      cancelPress(evt);\n    };\n    const removeKeydownListener = addDomEvent(keyboardNode, \"keydown\", handleKeydown);\n    const removeBlurListener = addDomEvent(keyboardNode, \"blur\", handleBlur);\n    removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n  }\n  return () => {\n    removeStartListeners();\n    removeEndListeners();\n    removeAccessibleListeners();\n  };\n}\n\n// src/proxy-tab-focus.ts\nfunction proxyTabFocusImpl(container, options = {}) {\n  const { triggerElement, onFocus, onFocusEnter } = options;\n  const doc = container?.ownerDocument || document;\n  const body = doc.body;\n  function onKeyDown(event) {\n    if (event.key !== \"Tab\") return;\n    let elementToFocus = null;\n    const [firstTabbable, lastTabbable] = getTabbableEdges(container, true);\n    const nextTabbableAfterTrigger = getNextTabbable(body, triggerElement);\n    const noTabbableElements = !firstTabbable && !lastTabbable;\n    if (event.shiftKey && isActiveElement(nextTabbableAfterTrigger)) {\n      onFocusEnter?.();\n      elementToFocus = lastTabbable;\n    } else if (event.shiftKey && (isActiveElement(firstTabbable) || noTabbableElements)) {\n      elementToFocus = triggerElement;\n    } else if (!event.shiftKey && isActiveElement(triggerElement)) {\n      onFocusEnter?.();\n      elementToFocus = firstTabbable;\n    } else if (!event.shiftKey && (isActiveElement(lastTabbable) || noTabbableElements)) {\n      elementToFocus = nextTabbableAfterTrigger;\n    }\n    if (!elementToFocus) return;\n    event.preventDefault();\n    if (typeof onFocus === \"function\") {\n      onFocus(elementToFocus);\n    } else {\n      elementToFocus.focus();\n    }\n  }\n  return addDomEvent(doc, \"keydown\", onKeyDown, true);\n}\nfunction proxyTabFocus(container, options) {\n  const { defer, triggerElement, ...restOptions } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof container === \"function\" ? container() : container;\n      const trigger = typeof triggerElement === \"function\" ? triggerElement() : triggerElement;\n      cleanups.push(proxyTabFocusImpl(node, { triggerElement: trigger, ...restOptions }));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\n// src/query.ts\nfunction queryAll(root, selector) {\n  return Array.from(root?.querySelectorAll(selector) ?? []);\n}\nfunction query(root, selector) {\n  return root?.querySelector(selector) ?? null;\n}\nvar defaultItemToId = (v) => v.id;\nfunction itemById(v, id, itemToId = defaultItemToId) {\n  return v.find((item) => itemToId(item) === id);\n}\nfunction indexOfId(v, id, itemToId = defaultItemToId) {\n  const item = itemById(v, id, itemToId);\n  return item ? v.indexOf(item) : -1;\n}\nfunction nextById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  idx = loop ? (idx + 1) % v.length : Math.min(idx + 1, v.length - 1);\n  return v[idx];\n}\nfunction prevById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  if (idx === -1) return loop ? v[v.length - 1] : null;\n  idx = loop ? (idx - 1 + v.length) % v.length : Math.max(0, idx - 1);\n  return v[idx];\n}\n\n// src/resize-observer.ts\nfunction trackElementRect(elements, options) {\n  const { onEntry, measure, box = \"border-box\" } = options;\n  const elems = (Array.isArray(elements) ? elements : [elements]).filter(isHTMLElement);\n  const win = getWindow(elems[0]);\n  const trigger = (entries) => {\n    const rects = elems.map((el) => measure(el));\n    onEntry({ rects, entries });\n  };\n  trigger([]);\n  const obs = new win.ResizeObserver(trigger);\n  elems.forEach((el) => obs.observe(el, { box }));\n  return () => obs.disconnect();\n}\n\n// src/scope.ts\nfunction createScope(methods) {\n  const dom = {\n    getRootNode: (ctx) => ctx.getRootNode?.() ?? document,\n    getDoc: (ctx) => getDocument(dom.getRootNode(ctx)),\n    getWin: (ctx) => dom.getDoc(ctx).defaultView ?? window,\n    getActiveElement: (ctx) => getActiveElement(dom.getRootNode(ctx)),\n    isActiveElement,\n    getById: (ctx, id) => dom.getRootNode(ctx).getElementById(id),\n    setValue: (elem, value) => {\n      if (elem == null || value == null) return;\n      setElementValue(elem, value.toString());\n    }\n  };\n  return { ...dom, ...methods };\n}\n\n// src/searchable.ts\nvar sanitize = (str) => str.split(\"\").map((char) => {\n  const code = char.charCodeAt(0);\n  if (code > 0 && code < 128) return char;\n  if (code >= 128 && code <= 255) return `/x${code.toString(16)}`.replace(\"/\", \"\\\\\");\n  return \"\";\n}).join(\"\").trim();\nvar getValueText = (el) => {\n  return sanitize(el.dataset?.valuetext ?? el.textContent ?? \"\");\n};\nvar match = (valueText, query2) => {\n  return valueText.trim().toLowerCase().startsWith(query2.toLowerCase());\n};\nfunction getByText(v, text, currentId, itemToId = defaultItemToId) {\n  const index = currentId ? indexOfId(v, currentId, itemToId) : -1;\n  let items = currentId ? wrap(v, index) : v;\n  const isSingleKey = text.length === 1;\n  if (isSingleKey) {\n    items = items.filter((item) => itemToId(item) !== currentId);\n  }\n  return items.find((item) => match(getValueText(item), text));\n}\n\n// src/set.ts\nfunction setAttribute(el, attr, v) {\n  const prev = el.getAttribute(attr);\n  const exists = prev != null;\n  el.setAttribute(attr, v);\n  return () => {\n    if (!exists) {\n      el.removeAttribute(attr);\n    } else {\n      el.setAttribute(attr, prev);\n    }\n  };\n}\nfunction setProperty(el, prop, v) {\n  const exists = prop in el;\n  const prev = el[prop];\n  el[prop] = v;\n  return () => {\n    if (!exists) {\n      delete el[prop];\n    } else {\n      el[prop] = prev;\n    }\n  };\n}\nfunction setStyle(el, style) {\n  if (!el) return noop;\n  const prev = Object.keys(style).reduce((acc, key) => {\n    acc[key] = el.style.getPropertyValue(key);\n    return acc;\n  }, {});\n  Object.assign(el.style, style);\n  return () => {\n    Object.assign(el.style, prev);\n    if (el.style.length === 0) {\n      el.removeAttribute(\"style\");\n    }\n  };\n}\nfunction setStyleProperty(el, prop, value) {\n  if (!el) return noop;\n  const prev = el.style.getPropertyValue(prop);\n  el.style.setProperty(prop, value);\n  return () => {\n    el.style.setProperty(prop, prev);\n    if (el.style.length === 0) {\n      el.removeAttribute(\"style\");\n    }\n  };\n}\n\n// src/typeahead.ts\nfunction getByTypeaheadImpl(baseItems, options) {\n  const { state: state2, activeId, key, timeout = 350, itemToId } = options;\n  const search = state2.keysSoFar + key;\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const query2 = isRepeated ? search[0] : search;\n  let items = baseItems.slice();\n  const next = getByText(items, query2, activeId, itemToId);\n  function cleanup() {\n    clearTimeout(state2.timer);\n    state2.timer = -1;\n  }\n  function update(value) {\n    state2.keysSoFar = value;\n    cleanup();\n    if (value !== \"\") {\n      state2.timer = +setTimeout(() => {\n        update(\"\");\n        cleanup();\n      }, timeout);\n    }\n  }\n  update(search);\n  return next;\n}\nvar getByTypeahead = /* @__PURE__ */ Object.assign(getByTypeaheadImpl, {\n  defaultOptions: { keysSoFar: \"\", timer: -1 },\n  isValidEvent: isValidTypeaheadEvent\n});\nfunction isValidTypeaheadEvent(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\n\n// src/visual-viewport.ts\nfunction trackVisualViewport(doc, fn) {\n  const win = doc?.defaultView || window;\n  const onResize = () => {\n    fn?.(getViewportSize(win));\n  };\n  onResize();\n  return addDomEvent(win.visualViewport ?? win, \"resize\", onResize);\n}\nfunction getViewportSize(win) {\n  return {\n    width: win.visualViewport?.width || win.innerWidth,\n    height: win.visualViewport?.height || win.innerHeight\n  };\n}\n\n// src/visually-hidden.ts\nvar visuallyHiddenStyle = {\n  border: \"0\",\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  padding: \"0\",\n  position: \"absolute\",\n  width: \"1px\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n};\nfunction setVisuallyHidden(el) {\n  Object.assign(el.style, visuallyHiddenStyle);\n}\n\n// src/wait-for.ts\nfunction waitForPromise(promise, controller, timeout) {\n  const { signal } = controller;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error(`Timeout of ${timeout}ms exceeded`));\n    }, timeout);\n    signal.addEventListener(\"abort\", () => {\n      clearTimeout(timeoutId);\n      reject(new Error(\"Promise aborted\"));\n    });\n    promise.then((result) => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        resolve(result);\n      }\n    }).catch((error) => {\n      if (!signal.aborted) {\n        clearTimeout(timeoutId);\n        reject(error);\n      }\n    });\n  });\n  const abort = () => controller.abort();\n  return [wrappedPromise, abort];\n}\nfunction waitForElement(target, options) {\n  const { timeout, rootNode } = options;\n  const win = getWindow(rootNode);\n  const doc = getDocument(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(\n    new Promise((resolve) => {\n      const el = target();\n      if (el) {\n        resolve(el);\n        return;\n      }\n      const observer = new win.MutationObserver(() => {\n        const el2 = target();\n        if (el2 && el2.isConnected) {\n          observer.disconnect();\n          resolve(el2);\n        }\n      });\n      observer.observe(doc.body, {\n        childList: true,\n        subtree: true\n      });\n    }),\n    controller,\n    timeout\n  );\n}\n\nexport { MAX_Z_INDEX, addDomEvent, ariaAttr, clickIfLink, contains, createScope, dataAttr, defaultItemToId, disableTextSelection, dispatchInputCheckedEvent, dispatchInputValueEvent, getActiveElement, getBeforeInputValue, getByText, getByTypeahead, getComputedStyle, getDataUrl, getDocument, getDocumentElement, getEventKey, getEventPoint, getEventStep, getEventTarget, getFirstFocusable, getFirstTabbable, getFocusables, getInitialFocus, getLastTabbable, getNativeEvent, getNearestOverflowAncestor, getNextTabbable, getNodeName, getOverflowAncestors, getParentNode, getPlatform, getRelativePoint, getScrollPosition, getTabIndex, getTabbableEdges, getTabbables, getUserAgent, getWindow, indexOfId, isActiveElement, isAnchorElement, isAndroid, isApple, isCaretAtStart, isChrome, isComposingEvent, isContextMenuEvent, isCtrlOrMetaKey, isDocument, isDom, isDownloadingEvent, isEditableElement, isElementVisible, isFirefox, isFocusable, isHTMLElement, isIPad, isIPhone, isInView, isInputElement, isIos, isKeyboardClick, isLeftClick, isMac, isModifierKey, isNode, isOpeningInNewTab, isOverflowElement, isPrintableKey, isRootElement, isSafari, isShadowRoot, isTabbable, isTouchDevice, isTouchEvent, isValidTabEvent, isVirtualClick, isVirtualPointerEvent, isVisualViewport, isWebKit, isWindow, itemById, nextById, nextTick, observeAttributes, observeChildren, prevById, proxyTabFocus, query, queryAll, queueBeforeEvent, raf, requestPointerLock, restoreTextSelection, scrollIntoView, setAttribute, setCaretToEnd, setElementChecked, setElementValue, setProperty, setStyle, setStyleProperty, setVisuallyHidden, trackElementRect, trackFormControl, trackPointerMove, trackPress, trackVisualViewport, visuallyHiddenStyle, waitForElement, waitForPromise };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}