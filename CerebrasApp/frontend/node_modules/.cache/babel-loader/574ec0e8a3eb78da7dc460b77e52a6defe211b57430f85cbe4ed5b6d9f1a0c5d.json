{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { dataAttr, ariaAttr } from '@zag-js/dom-query';\nimport { useState, useId, useRef, useMemo } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useSafeLayoutEffect } from '../../utils/use-safe-layout-effect.js';\nimport { useFieldsetContext } from '../fieldset/use-fieldset-context.js';\nimport { parts } from './field.anatomy.js';\nconst useField = function () {\n  var _props$id, _ids$control, _ids$errorText, _ids$helperText, _ids$label;\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const fieldset = useFieldsetContext();\n  const env = useEnvironmentContext();\n  const {\n    ids,\n    disabled = Boolean(fieldset === null || fieldset === void 0 ? void 0 : fieldset.disabled),\n    invalid = false,\n    readOnly = false,\n    required = false\n  } = props;\n  const [hasErrorText, setHasErrorText] = useState(false);\n  const [hasHelperText, setHasHelperText] = useState(false);\n  const uid = useId();\n  const id = (_props$id = props.id) !== null && _props$id !== void 0 ? _props$id : uid;\n  const rootRef = useRef(null);\n  const rootId = (_ids$control = ids === null || ids === void 0 ? void 0 : ids.control) !== null && _ids$control !== void 0 ? _ids$control : \"field::\".concat(id);\n  const errorTextId = (_ids$errorText = ids === null || ids === void 0 ? void 0 : ids.errorText) !== null && _ids$errorText !== void 0 ? _ids$errorText : \"field::\".concat(id, \"::error-text\");\n  const helperTextId = (_ids$helperText = ids === null || ids === void 0 ? void 0 : ids.helperText) !== null && _ids$helperText !== void 0 ? _ids$helperText : \"field::\".concat(id, \"::helper-text\");\n  const labelId = (_ids$label = ids === null || ids === void 0 ? void 0 : ids.label) !== null && _ids$label !== void 0 ? _ids$label : \"field::\".concat(id, \"::label\");\n  useSafeLayoutEffect(() => {\n    const rootNode = rootRef.current;\n    if (!rootNode) return;\n    const checkTextElements = () => {\n      const docOrShadowRoot = env.getRootNode();\n      setHasErrorText(!!docOrShadowRoot.getElementById(errorTextId));\n      setHasHelperText(!!docOrShadowRoot.getElementById(helperTextId));\n    };\n    checkTextElements();\n    const win = env.getWindow();\n    const observer = new win.MutationObserver(checkTextElements);\n    observer.observe(rootNode, {\n      childList: true,\n      subtree: true\n    });\n    return () => observer.disconnect();\n  }, [env, errorTextId, helperTextId]);\n  const labelIds = useMemo(() => {\n    const ids2 = [];\n    if (hasErrorText && invalid) ids2.push(errorTextId);\n    if (hasHelperText) ids2.push(helperTextId);\n    return ids2.join(\" \") || void 0;\n  }, [invalid, errorTextId, helperTextId, hasErrorText, hasHelperText]);\n  const getRootProps = useMemo(() => () => _objectSpread(_objectSpread({}, parts.root.attrs), {}, {\n    id: rootId,\n    ref: rootRef,\n    role: \"group\",\n    \"data-disabled\": dataAttr(disabled),\n    \"data-invalid\": dataAttr(invalid),\n    \"data-readonly\": dataAttr(readOnly)\n  }), [disabled, invalid, readOnly, rootId]);\n  const getLabelProps = useMemo(() => () => _objectSpread(_objectSpread({}, parts.label.attrs), {}, {\n    id: labelId,\n    \"data-disabled\": dataAttr(disabled),\n    \"data-invalid\": dataAttr(invalid),\n    \"data-readonly\": dataAttr(readOnly),\n    \"data-required\": dataAttr(required),\n    htmlFor: id\n  }), [disabled, invalid, readOnly, required, id, labelId]);\n  const getControlProps = useMemo(() => () => ({\n    \"aria-describedby\": labelIds,\n    \"aria-invalid\": ariaAttr(invalid),\n    \"data-invalid\": dataAttr(invalid),\n    \"data-required\": dataAttr(required),\n    \"data-readonly\": dataAttr(readOnly),\n    id,\n    required,\n    disabled,\n    readOnly\n  }), [labelIds, invalid, required, readOnly, id, disabled]);\n  const getInputProps = useMemo(() => () => _objectSpread(_objectSpread({}, getControlProps()), parts.input.attrs), [getControlProps]);\n  const getTextareaProps = useMemo(() => () => _objectSpread(_objectSpread({}, getControlProps()), parts.textarea.attrs), [getControlProps]);\n  const getSelectProps = useMemo(() => () => _objectSpread(_objectSpread({}, getControlProps()), parts.select.attrs), [getControlProps]);\n  const getHelperTextProps = useMemo(() => () => _objectSpread(_objectSpread({\n    id: helperTextId\n  }, parts.helperText.attrs), {}, {\n    \"data-disabled\": dataAttr(disabled)\n  }), [disabled, helperTextId]);\n  const getErrorTextProps = useMemo(() => () => _objectSpread(_objectSpread({\n    id: errorTextId\n  }, parts.errorText.attrs), {}, {\n    \"aria-live\": \"polite\"\n  }), [errorTextId]);\n  const getRequiredIndicatorProps = useMemo(() => () => _objectSpread({\n    \"aria-hidden\": true\n  }, parts.requiredIndicator.attrs), []);\n  return {\n    ariaDescribedby: labelIds,\n    ids: {\n      root: rootId,\n      control: id,\n      label: labelId,\n      errorText: errorTextId,\n      helperText: helperTextId\n    },\n    refs: {\n      rootRef\n    },\n    disabled,\n    invalid,\n    readOnly,\n    required,\n    getLabelProps,\n    getRootProps,\n    getInputProps,\n    getTextareaProps,\n    getSelectProps,\n    getHelperTextProps,\n    getErrorTextProps,\n    getRequiredIndicatorProps\n  };\n};\nexport { useField };","map":{"version":3,"names":["_objectSpread","dataAttr","ariaAttr","useState","useId","useRef","useMemo","useEnvironmentContext","useSafeLayoutEffect","useFieldsetContext","parts","useField","_props$id","_ids$control","_ids$errorText","_ids$helperText","_ids$label","props","arguments","length","undefined","fieldset","env","ids","disabled","Boolean","invalid","readOnly","required","hasErrorText","setHasErrorText","hasHelperText","setHasHelperText","uid","id","rootRef","rootId","control","concat","errorTextId","errorText","helperTextId","helperText","labelId","label","rootNode","current","checkTextElements","docOrShadowRoot","getRootNode","getElementById","win","getWindow","observer","MutationObserver","observe","childList","subtree","disconnect","labelIds","ids2","push","join","getRootProps","root","attrs","ref","role","getLabelProps","htmlFor","getControlProps","getInputProps","input","getTextareaProps","textarea","getSelectProps","select","getHelperTextProps","getErrorTextProps","getRequiredIndicatorProps","requiredIndicator","ariaDescribedby","refs"],"sources":["C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@ark-ui/react/dist/components/field/use-field.js"],"sourcesContent":["'use client';\nimport { dataAttr, ariaAttr } from '@zag-js/dom-query';\nimport { useState, useId, useRef, useMemo } from 'react';\nimport { useEnvironmentContext } from '../../providers/environment/use-environment-context.js';\nimport { useSafeLayoutEffect } from '../../utils/use-safe-layout-effect.js';\nimport { useFieldsetContext } from '../fieldset/use-fieldset-context.js';\nimport { parts } from './field.anatomy.js';\n\nconst useField = (props = {}) => {\n  const fieldset = useFieldsetContext();\n  const env = useEnvironmentContext();\n  const { ids, disabled = Boolean(fieldset?.disabled), invalid = false, readOnly = false, required = false } = props;\n  const [hasErrorText, setHasErrorText] = useState(false);\n  const [hasHelperText, setHasHelperText] = useState(false);\n  const uid = useId();\n  const id = props.id ?? uid;\n  const rootRef = useRef(null);\n  const rootId = ids?.control ?? `field::${id}`;\n  const errorTextId = ids?.errorText ?? `field::${id}::error-text`;\n  const helperTextId = ids?.helperText ?? `field::${id}::helper-text`;\n  const labelId = ids?.label ?? `field::${id}::label`;\n  useSafeLayoutEffect(() => {\n    const rootNode = rootRef.current;\n    if (!rootNode) return;\n    const checkTextElements = () => {\n      const docOrShadowRoot = env.getRootNode();\n      setHasErrorText(!!docOrShadowRoot.getElementById(errorTextId));\n      setHasHelperText(!!docOrShadowRoot.getElementById(helperTextId));\n    };\n    checkTextElements();\n    const win = env.getWindow();\n    const observer = new win.MutationObserver(checkTextElements);\n    observer.observe(rootNode, { childList: true, subtree: true });\n    return () => observer.disconnect();\n  }, [env, errorTextId, helperTextId]);\n  const labelIds = useMemo(() => {\n    const ids2 = [];\n    if (hasErrorText && invalid) ids2.push(errorTextId);\n    if (hasHelperText) ids2.push(helperTextId);\n    return ids2.join(\" \") || void 0;\n  }, [invalid, errorTextId, helperTextId, hasErrorText, hasHelperText]);\n  const getRootProps = useMemo(\n    () => () => ({\n      ...parts.root.attrs,\n      id: rootId,\n      ref: rootRef,\n      role: \"group\",\n      \"data-disabled\": dataAttr(disabled),\n      \"data-invalid\": dataAttr(invalid),\n      \"data-readonly\": dataAttr(readOnly)\n    }),\n    [disabled, invalid, readOnly, rootId]\n  );\n  const getLabelProps = useMemo(\n    () => () => ({\n      ...parts.label.attrs,\n      id: labelId,\n      \"data-disabled\": dataAttr(disabled),\n      \"data-invalid\": dataAttr(invalid),\n      \"data-readonly\": dataAttr(readOnly),\n      \"data-required\": dataAttr(required),\n      htmlFor: id\n    }),\n    [disabled, invalid, readOnly, required, id, labelId]\n  );\n  const getControlProps = useMemo(\n    () => () => ({\n      \"aria-describedby\": labelIds,\n      \"aria-invalid\": ariaAttr(invalid),\n      \"data-invalid\": dataAttr(invalid),\n      \"data-required\": dataAttr(required),\n      \"data-readonly\": dataAttr(readOnly),\n      id,\n      required,\n      disabled,\n      readOnly\n    }),\n    [labelIds, invalid, required, readOnly, id, disabled]\n  );\n  const getInputProps = useMemo(\n    () => () => ({\n      ...getControlProps(),\n      ...parts.input.attrs\n    }),\n    [getControlProps]\n  );\n  const getTextareaProps = useMemo(\n    () => () => ({\n      ...getControlProps(),\n      ...parts.textarea.attrs\n    }),\n    [getControlProps]\n  );\n  const getSelectProps = useMemo(\n    () => () => ({\n      ...getControlProps(),\n      ...parts.select.attrs\n    }),\n    [getControlProps]\n  );\n  const getHelperTextProps = useMemo(\n    () => () => ({\n      id: helperTextId,\n      ...parts.helperText.attrs,\n      \"data-disabled\": dataAttr(disabled)\n    }),\n    [disabled, helperTextId]\n  );\n  const getErrorTextProps = useMemo(\n    () => () => ({\n      id: errorTextId,\n      ...parts.errorText.attrs,\n      \"aria-live\": \"polite\"\n    }),\n    [errorTextId]\n  );\n  const getRequiredIndicatorProps = useMemo(\n    () => () => ({\n      \"aria-hidden\": true,\n      ...parts.requiredIndicator.attrs\n    }),\n    []\n  );\n  return {\n    ariaDescribedby: labelIds,\n    ids: {\n      root: rootId,\n      control: id,\n      label: labelId,\n      errorText: errorTextId,\n      helperText: helperTextId\n    },\n    refs: {\n      rootRef\n    },\n    disabled,\n    invalid,\n    readOnly,\n    required,\n    getLabelProps,\n    getRootProps,\n    getInputProps,\n    getTextareaProps,\n    getSelectProps,\n    getHelperTextProps,\n    getErrorTextProps,\n    getRequiredIndicatorProps\n  };\n};\n\nexport { useField };\n"],"mappings":"AAAA,YAAY;;AAAC,OAAAA,aAAA;AACb,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,mBAAmB;AACtD,SAASC,QAAQ,EAAEC,KAAK,EAAEC,MAAM,EAAEC,OAAO,QAAQ,OAAO;AACxD,SAASC,qBAAqB,QAAQ,wDAAwD;AAC9F,SAASC,mBAAmB,QAAQ,uCAAuC;AAC3E,SAASC,kBAAkB,QAAQ,qCAAqC;AACxE,SAASC,KAAK,QAAQ,oBAAoB;AAE1C,MAAMC,QAAQ,GAAG,SAAAA,CAAA,EAAgB;EAAA,IAAAC,SAAA,EAAAC,YAAA,EAAAC,cAAA,EAAAC,eAAA,EAAAC,UAAA;EAAA,IAAfC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAC1B,MAAMG,QAAQ,GAAGZ,kBAAkB,CAAC,CAAC;EACrC,MAAMa,GAAG,GAAGf,qBAAqB,CAAC,CAAC;EACnC,MAAM;IAAEgB,GAAG;IAAEC,QAAQ,GAAGC,OAAO,CAACJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEG,QAAQ,CAAC;IAAEE,OAAO,GAAG,KAAK;IAAEC,QAAQ,GAAG,KAAK;IAAEC,QAAQ,GAAG;EAAM,CAAC,GAAGX,KAAK;EAClH,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC4B,aAAa,EAAEC,gBAAgB,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM8B,GAAG,GAAG7B,KAAK,CAAC,CAAC;EACnB,MAAM8B,EAAE,IAAAtB,SAAA,GAAGK,KAAK,CAACiB,EAAE,cAAAtB,SAAA,cAAAA,SAAA,GAAIqB,GAAG;EAC1B,MAAME,OAAO,GAAG9B,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAM+B,MAAM,IAAAvB,YAAA,GAAGU,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEc,OAAO,cAAAxB,YAAA,cAAAA,YAAA,aAAAyB,MAAA,CAAcJ,EAAE,CAAE;EAC7C,MAAMK,WAAW,IAAAzB,cAAA,GAAGS,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEiB,SAAS,cAAA1B,cAAA,cAAAA,cAAA,aAAAwB,MAAA,CAAcJ,EAAE,iBAAc;EAChE,MAAMO,YAAY,IAAA1B,eAAA,GAAGQ,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEmB,UAAU,cAAA3B,eAAA,cAAAA,eAAA,aAAAuB,MAAA,CAAcJ,EAAE,kBAAe;EACnE,MAAMS,OAAO,IAAA3B,UAAA,GAAGO,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEqB,KAAK,cAAA5B,UAAA,cAAAA,UAAA,aAAAsB,MAAA,CAAcJ,EAAE,YAAS;EACnD1B,mBAAmB,CAAC,MAAM;IACxB,MAAMqC,QAAQ,GAAGV,OAAO,CAACW,OAAO;IAChC,IAAI,CAACD,QAAQ,EAAE;IACf,MAAME,iBAAiB,GAAGA,CAAA,KAAM;MAC9B,MAAMC,eAAe,GAAG1B,GAAG,CAAC2B,WAAW,CAAC,CAAC;MACzCnB,eAAe,CAAC,CAAC,CAACkB,eAAe,CAACE,cAAc,CAACX,WAAW,CAAC,CAAC;MAC9DP,gBAAgB,CAAC,CAAC,CAACgB,eAAe,CAACE,cAAc,CAACT,YAAY,CAAC,CAAC;IAClE,CAAC;IACDM,iBAAiB,CAAC,CAAC;IACnB,MAAMI,GAAG,GAAG7B,GAAG,CAAC8B,SAAS,CAAC,CAAC;IAC3B,MAAMC,QAAQ,GAAG,IAAIF,GAAG,CAACG,gBAAgB,CAACP,iBAAiB,CAAC;IAC5DM,QAAQ,CAACE,OAAO,CAACV,QAAQ,EAAE;MAAEW,SAAS,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAC9D,OAAO,MAAMJ,QAAQ,CAACK,UAAU,CAAC,CAAC;EACpC,CAAC,EAAE,CAACpC,GAAG,EAAEiB,WAAW,EAAEE,YAAY,CAAC,CAAC;EACpC,MAAMkB,QAAQ,GAAGrD,OAAO,CAAC,MAAM;IAC7B,MAAMsD,IAAI,GAAG,EAAE;IACf,IAAI/B,YAAY,IAAIH,OAAO,EAAEkC,IAAI,CAACC,IAAI,CAACtB,WAAW,CAAC;IACnD,IAAIR,aAAa,EAAE6B,IAAI,CAACC,IAAI,CAACpB,YAAY,CAAC;IAC1C,OAAOmB,IAAI,CAACE,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC;EACjC,CAAC,EAAE,CAACpC,OAAO,EAAEa,WAAW,EAAEE,YAAY,EAAEZ,YAAY,EAAEE,aAAa,CAAC,CAAC;EACrE,MAAMgC,YAAY,GAAGzD,OAAO,CAC1B,MAAM,MAAAN,aAAA,CAAAA,aAAA,KACDU,KAAK,CAACsD,IAAI,CAACC,KAAK;IACnB/B,EAAE,EAAEE,MAAM;IACV8B,GAAG,EAAE/B,OAAO;IACZgC,IAAI,EAAE,OAAO;IACb,eAAe,EAAElE,QAAQ,CAACuB,QAAQ,CAAC;IACnC,cAAc,EAAEvB,QAAQ,CAACyB,OAAO,CAAC;IACjC,eAAe,EAAEzB,QAAQ,CAAC0B,QAAQ;EAAC,EACnC,EACF,CAACH,QAAQ,EAAEE,OAAO,EAAEC,QAAQ,EAAES,MAAM,CACtC,CAAC;EACD,MAAMgC,aAAa,GAAG9D,OAAO,CAC3B,MAAM,MAAAN,aAAA,CAAAA,aAAA,KACDU,KAAK,CAACkC,KAAK,CAACqB,KAAK;IACpB/B,EAAE,EAAES,OAAO;IACX,eAAe,EAAE1C,QAAQ,CAACuB,QAAQ,CAAC;IACnC,cAAc,EAAEvB,QAAQ,CAACyB,OAAO,CAAC;IACjC,eAAe,EAAEzB,QAAQ,CAAC0B,QAAQ,CAAC;IACnC,eAAe,EAAE1B,QAAQ,CAAC2B,QAAQ,CAAC;IACnCyC,OAAO,EAAEnC;EAAE,EACX,EACF,CAACV,QAAQ,EAAEE,OAAO,EAAEC,QAAQ,EAAEC,QAAQ,EAAEM,EAAE,EAAES,OAAO,CACrD,CAAC;EACD,MAAM2B,eAAe,GAAGhE,OAAO,CAC7B,MAAM,OAAO;IACX,kBAAkB,EAAEqD,QAAQ;IAC5B,cAAc,EAAEzD,QAAQ,CAACwB,OAAO,CAAC;IACjC,cAAc,EAAEzB,QAAQ,CAACyB,OAAO,CAAC;IACjC,eAAe,EAAEzB,QAAQ,CAAC2B,QAAQ,CAAC;IACnC,eAAe,EAAE3B,QAAQ,CAAC0B,QAAQ,CAAC;IACnCO,EAAE;IACFN,QAAQ;IACRJ,QAAQ;IACRG;EACF,CAAC,CAAC,EACF,CAACgC,QAAQ,EAAEjC,OAAO,EAAEE,QAAQ,EAAED,QAAQ,EAAEO,EAAE,EAAEV,QAAQ,CACtD,CAAC;EACD,MAAM+C,aAAa,GAAGjE,OAAO,CAC3B,MAAM,MAAAN,aAAA,CAAAA,aAAA,KACDsE,eAAe,CAAC,CAAC,GACjB5D,KAAK,CAAC8D,KAAK,CAACP,KAAK,CACpB,EACF,CAACK,eAAe,CAClB,CAAC;EACD,MAAMG,gBAAgB,GAAGnE,OAAO,CAC9B,MAAM,MAAAN,aAAA,CAAAA,aAAA,KACDsE,eAAe,CAAC,CAAC,GACjB5D,KAAK,CAACgE,QAAQ,CAACT,KAAK,CACvB,EACF,CAACK,eAAe,CAClB,CAAC;EACD,MAAMK,cAAc,GAAGrE,OAAO,CAC5B,MAAM,MAAAN,aAAA,CAAAA,aAAA,KACDsE,eAAe,CAAC,CAAC,GACjB5D,KAAK,CAACkE,MAAM,CAACX,KAAK,CACrB,EACF,CAACK,eAAe,CAClB,CAAC;EACD,MAAMO,kBAAkB,GAAGvE,OAAO,CAChC,MAAM,MAAAN,aAAA,CAAAA,aAAA;IACJkC,EAAE,EAAEO;EAAY,GACb/B,KAAK,CAACgC,UAAU,CAACuB,KAAK;IACzB,eAAe,EAAEhE,QAAQ,CAACuB,QAAQ;EAAC,EACnC,EACF,CAACA,QAAQ,EAAEiB,YAAY,CACzB,CAAC;EACD,MAAMqC,iBAAiB,GAAGxE,OAAO,CAC/B,MAAM,MAAAN,aAAA,CAAAA,aAAA;IACJkC,EAAE,EAAEK;EAAW,GACZ7B,KAAK,CAAC8B,SAAS,CAACyB,KAAK;IACxB,WAAW,EAAE;EAAQ,EACrB,EACF,CAAC1B,WAAW,CACd,CAAC;EACD,MAAMwC,yBAAyB,GAAGzE,OAAO,CACvC,MAAM,MAAAN,aAAA;IACJ,aAAa,EAAE;EAAI,GAChBU,KAAK,CAACsE,iBAAiB,CAACf,KAAK,CAChC,EACF,EACF,CAAC;EACD,OAAO;IACLgB,eAAe,EAAEtB,QAAQ;IACzBpC,GAAG,EAAE;MACHyC,IAAI,EAAE5B,MAAM;MACZC,OAAO,EAAEH,EAAE;MACXU,KAAK,EAAED,OAAO;MACdH,SAAS,EAAED,WAAW;MACtBG,UAAU,EAAED;IACd,CAAC;IACDyC,IAAI,EAAE;MACJ/C;IACF,CAAC;IACDX,QAAQ;IACRE,OAAO;IACPC,QAAQ;IACRC,QAAQ;IACRwC,aAAa;IACbL,YAAY;IACZQ,aAAa;IACbE,gBAAgB;IAChBE,cAAc;IACdE,kBAAkB;IAClBC,iBAAiB;IACjBC;EACF,CAAC;AACH,CAAC;AAED,SAASpE,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}