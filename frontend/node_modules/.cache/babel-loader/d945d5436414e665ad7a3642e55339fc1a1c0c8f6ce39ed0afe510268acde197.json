{"ast":null,"code":"import _objectSpread from \"C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { createAnatomy } from '@zag-js/anatomy';\nimport { createGuards, createMachine, mergeProps } from '@zag-js/core';\nimport { isHTMLElement, contains, raf, getComputedStyle as getComputedStyle$1, getWindow, dataAttr, waitForPromise } from '@zag-js/dom-query';\nexport { waitForElement, waitForPromise } from '@zag-js/dom-query';\nimport { getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { trackDismissableBranch } from '@zag-js/dismissable';\nimport { trapFocus } from '@zag-js/focus-trap';\nimport { trackInteractOutside } from '@zag-js/interact-outside';\nimport { prevIndex, nextIndex, isString, isEqual, createSplitProps } from '@zag-js/utils';\nimport { createProps } from '@zag-js/types';\n\n// src/tour.anatomy.ts\nvar anatomy = createAnatomy(\"tour\").parts(\"content\", \"actionTrigger\", \"closeTrigger\", \"progressText\", \"title\", \"description\", \"positioner\", \"arrow\", \"arrowTip\", \"backdrop\", \"spotlight\");\nvar parts = anatomy.build();\n\n// src/tour.dom.ts\nvar getPositionerId = ctx => {\n  var _ctx$ids$positioner, _ctx$ids;\n  return (_ctx$ids$positioner = (_ctx$ids = ctx.ids) === null || _ctx$ids === void 0 ? void 0 : _ctx$ids.positioner) !== null && _ctx$ids$positioner !== void 0 ? _ctx$ids$positioner : \"tour-positioner-\".concat(ctx.id);\n};\nvar getContentId = ctx => {\n  var _ctx$ids$content, _ctx$ids2;\n  return (_ctx$ids$content = (_ctx$ids2 = ctx.ids) === null || _ctx$ids2 === void 0 ? void 0 : _ctx$ids2.content) !== null && _ctx$ids$content !== void 0 ? _ctx$ids$content : \"tour-content-\".concat(ctx.id);\n};\nvar getTitleId = ctx => {\n  var _ctx$ids$title, _ctx$ids3;\n  return (_ctx$ids$title = (_ctx$ids3 = ctx.ids) === null || _ctx$ids3 === void 0 ? void 0 : _ctx$ids3.title) !== null && _ctx$ids$title !== void 0 ? _ctx$ids$title : \"tour-title-\".concat(ctx.id);\n};\nvar getDescriptionId = ctx => {\n  var _ctx$ids$description, _ctx$ids4;\n  return (_ctx$ids$description = (_ctx$ids4 = ctx.ids) === null || _ctx$ids4 === void 0 ? void 0 : _ctx$ids4.description) !== null && _ctx$ids$description !== void 0 ? _ctx$ids$description : \"tour-desc-\".concat(ctx.id);\n};\nvar getArrowId = ctx => {\n  var _ctx$ids$arrow, _ctx$ids5;\n  return (_ctx$ids$arrow = (_ctx$ids5 = ctx.ids) === null || _ctx$ids5 === void 0 ? void 0 : _ctx$ids5.arrow) !== null && _ctx$ids$arrow !== void 0 ? _ctx$ids$arrow : \"tour-arrow-\".concat(ctx.id);\n};\nvar getBackdropId = ctx => {\n  var _ctx$ids$backdrop, _ctx$ids6;\n  return (_ctx$ids$backdrop = (_ctx$ids6 = ctx.ids) === null || _ctx$ids6 === void 0 ? void 0 : _ctx$ids6.backdrop) !== null && _ctx$ids$backdrop !== void 0 ? _ctx$ids$backdrop : \"tour-backdrop-\".concat(ctx.id);\n};\nvar getContentEl = ctx => ctx.getById(getContentId(ctx));\nvar getPositionerEl = ctx => ctx.getById(getPositionerId(ctx));\nvar getBackdropEl = ctx => ctx.getById(getBackdropId(ctx));\n\n// src/utils/clip-path.ts\nfunction getClipPath(options) {\n  const {\n    radius = 0,\n    rootSize: {\n      width: w,\n      height: h\n    },\n    rect: {\n      width,\n      height,\n      x,\n      y\n    },\n    enabled = true\n  } = options;\n  if (!enabled) return \"\";\n  const {\n    topLeft = 0,\n    topRight = 0,\n    bottomRight = 0,\n    bottomLeft = 0\n  } = typeof radius === \"number\" ? {\n    topLeft: radius,\n    topRight: radius,\n    bottomRight: radius,\n    bottomLeft: radius\n  } : radius;\n  return \"M\".concat(w, \",\").concat(h, \"  H0  V0  H\").concat(w, \"  V\").concat(h, \"  Z  M\").concat(x + topLeft, \",\").concat(y, \"  a\").concat(topLeft, \",\").concat(topLeft, \",0,0,0-\").concat(topLeft, \",\").concat(topLeft, \"  V\").concat(height + y - bottomLeft, \"  a\").concat(bottomLeft, \",\").concat(bottomLeft, \",0,0,0,\").concat(bottomLeft, \",\").concat(bottomLeft, \"  H\").concat(width + x - bottomRight, \"  a\").concat(bottomRight, \",\").concat(bottomRight, \",0,0,0,\").concat(bottomRight, \"-\").concat(bottomRight, \"  V\").concat(y + topRight, \"  a\").concat(topRight, \",\").concat(topRight, \",0,0,0-\").concat(topRight, \"-\").concat(topRight, \"  Z\");\n}\n\n// src/utils/step.ts\nvar isTooltipStep = step => {\n  return (step === null || step === void 0 ? void 0 : step.type) === \"tooltip\";\n};\nvar isDialogStep = step => {\n  return (step === null || step === void 0 ? void 0 : step.type) === \"dialog\";\n};\nvar isTooltipPlacement = placement => {\n  return placement != null && placement != \"center\";\n};\nvar normalizeStep = step => {\n  if (step.type === \"floating\") {\n    return _objectSpread({\n      backdrop: false,\n      arrow: false,\n      placement: \"bottom-end\"\n    }, step);\n  }\n  if (step.target == null || step.type === \"dialog\") {\n    return _objectSpread({\n      type: \"dialog\",\n      placement: \"center\",\n      backdrop: true\n    }, step);\n  }\n  if (!step.type || step.type === \"tooltip\") {\n    return _objectSpread({\n      type: \"tooltip\",\n      arrow: true,\n      backdrop: true\n    }, step);\n  }\n  return step;\n};\nvar findStep = (steps, id) => {\n  const res = id != null ? steps.find(step => step.id === id) : null;\n  return res ? normalizeStep(res) : null;\n};\nvar findStepIndex = (steps, id) => {\n  return id != null ? steps.findIndex(step => step.id === id) : -1;\n};\n\n// src/tour.connect.ts\nfunction connect(service, normalize) {\n  var _step$target;\n  const {\n    state,\n    context,\n    computed,\n    send,\n    prop,\n    scope\n  } = service;\n  const open = state.hasTag(\"open\");\n  const steps = Array.from(context.get(\"steps\"));\n  const stepIndex = computed(\"stepIndex\");\n  const step = computed(\"step\");\n  const hasTarget = typeof (step === null || step === void 0 || (_step$target = step.target) === null || _step$target === void 0 ? void 0 : _step$target.call(step)) !== \"undefined\";\n  const hasNextStep = computed(\"hasNextStep\");\n  const hasPrevStep = computed(\"hasPrevStep\");\n  const firstStep = computed(\"isFirstStep\");\n  const lastStep = computed(\"isLastStep\");\n  const placement = context.get(\"currentPlacement\");\n  const targetRect = context.get(\"targetRect\");\n  const popperStyles = getPlacementStyles({\n    strategy: \"absolute\",\n    placement: isTooltipPlacement(placement) ? placement : void 0\n  });\n  const clipPath = getClipPath({\n    enabled: isTooltipStep(step),\n    rect: targetRect,\n    rootSize: context.get(\"boundarySize\"),\n    radius: prop(\"spotlightRadius\")\n  });\n  const actionMap = {\n    next() {\n      send({\n        type: \"STEP.NEXT\",\n        src: \"actionTrigger\"\n      });\n    },\n    prev() {\n      send({\n        type: \"STEP.PREV\",\n        src: \"actionTrigger\"\n      });\n    },\n    dismiss() {\n      send({\n        type: \"DISMISS\",\n        src: \"actionTrigger\"\n      });\n    },\n    goto(id) {\n      send({\n        type: \"STEP.SET\",\n        value: id,\n        src: \"actionTrigger\"\n      });\n    }\n  };\n  return {\n    open,\n    totalSteps: steps.length,\n    stepIndex,\n    step,\n    hasNextStep,\n    hasPrevStep,\n    firstStep,\n    lastStep,\n    addStep(step2) {\n      const next = steps.concat(step2);\n      send({\n        type: \"STEPS.SET\",\n        value: next,\n        src: \"addStep\"\n      });\n    },\n    removeStep(id) {\n      const next = steps.filter(step2 => step2.id !== id);\n      send({\n        type: \"STEPS.SET\",\n        value: next,\n        src: \"removeStep\"\n      });\n    },\n    updateStep(id, stepOverrides) {\n      const next = steps.map(step2 => step2.id === id ? mergeProps(step2, stepOverrides) : step2);\n      send({\n        type: \"STEPS.SET\",\n        value: next,\n        src: \"updateStep\"\n      });\n    },\n    setSteps(steps2) {\n      send({\n        type: \"STEPS.SET\",\n        value: steps2,\n        src: \"setSteps\"\n      });\n    },\n    setStep(id) {\n      send({\n        type: \"STEP.SET\",\n        value: id\n      });\n    },\n    start(id) {\n      send({\n        type: \"START\",\n        value: id\n      });\n    },\n    isValidStep(id) {\n      return steps.some(step2 => step2.id === id);\n    },\n    isCurrentStep(id) {\n      return Boolean((step === null || step === void 0 ? void 0 : step.id) === id);\n    },\n    next() {\n      send({\n        type: \"STEP.NEXT\"\n      });\n    },\n    prev() {\n      send({\n        type: \"STEP.PREV\"\n      });\n    },\n    getProgressPercent() {\n      return stepIndex / steps.length * 100;\n    },\n    getProgressText() {\n      var _prop$progressText, _prop$progressText2, _prop;\n      const effectiveSteps = steps.filter(step2 => step2.type !== \"wait\");\n      const index = findStepIndex(effectiveSteps, step === null || step === void 0 ? void 0 : step.id);\n      const details = {\n        current: index,\n        total: effectiveSteps.length\n      };\n      return (_prop$progressText = (_prop$progressText2 = (_prop = prop(\"translations\")).progressText) === null || _prop$progressText2 === void 0 ? void 0 : _prop$progressText2.call(_prop, details)) !== null && _prop$progressText !== void 0 ? _prop$progressText : \"\";\n    },\n    getBackdropProps() {\n      return normalize.element(_objectSpread(_objectSpread({}, parts.backdrop.attrs), {}, {\n        id: getBackdropId(scope),\n        dir: prop(\"dir\"),\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step === null || step === void 0 ? void 0 : step.type,\n        style: {\n          \"--tour-layer\": 0,\n          clipPath: isTooltipStep(step) ? \"path(\\\"\".concat(clipPath, \"\\\")\") : void 0,\n          position: \"absolute\",\n          inset: \"0\",\n          willChange: \"clip-path\"\n        }\n      }));\n    },\n    getSpotlightProps() {\n      var _step$target2;\n      return normalize.element(_objectSpread(_objectSpread({}, parts.spotlight.attrs), {}, {\n        hidden: !open || !(step !== null && step !== void 0 && (_step$target2 = step.target) !== null && _step$target2 !== void 0 && _step$target2.call(step)),\n        style: {\n          \"--tour-layer\": 1,\n          position: \"absolute\",\n          width: \"\".concat(targetRect.width, \"px\"),\n          height: \"\".concat(targetRect.height, \"px\"),\n          left: \"\".concat(targetRect.x, \"px\"),\n          top: \"\".concat(targetRect.y, \"px\"),\n          borderRadius: \"\".concat(prop(\"spotlightRadius\"), \"px\"),\n          pointerEvents: \"none\"\n        }\n      }));\n    },\n    getProgressTextProps() {\n      return normalize.element(_objectSpread({}, parts.progressText.attrs));\n    },\n    getPositionerProps() {\n      return normalize.element(_objectSpread(_objectSpread({}, parts.positioner.attrs), {}, {\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        \"data-type\": step === null || step === void 0 ? void 0 : step.type,\n        \"data-placement\": placement,\n        style: _objectSpread({\n          \"--tour-layer\": 2\n        }, (step === null || step === void 0 ? void 0 : step.type) === \"tooltip\" && popperStyles.floating)\n      }));\n    },\n    getArrowProps() {\n      return normalize.element(_objectSpread(_objectSpread({\n        id: getArrowId(scope)\n      }, parts.arrow.attrs), {}, {\n        dir: prop(\"dir\"),\n        hidden: (step === null || step === void 0 ? void 0 : step.type) !== \"tooltip\",\n        style: (step === null || step === void 0 ? void 0 : step.type) === \"tooltip\" ? popperStyles.arrow : void 0,\n        opacity: hasTarget ? void 0 : 0\n      }));\n    },\n    getArrowTipProps() {\n      return normalize.element(_objectSpread(_objectSpread({}, parts.arrowTip.attrs), {}, {\n        dir: prop(\"dir\"),\n        style: popperStyles.arrowTip\n      }));\n    },\n    getContentProps() {\n      return normalize.element(_objectSpread(_objectSpread({}, parts.content.attrs), {}, {\n        id: getContentId(scope),\n        dir: prop(\"dir\"),\n        role: \"alertdialog\",\n        \"aria-modal\": \"true\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step === null || step === void 0 ? void 0 : step.type,\n        \"data-placement\": placement,\n        \"data-step\": step === null || step === void 0 ? void 0 : step.id,\n        \"aria-labelledby\": getTitleId(scope),\n        \"aria-describedby\": getDescriptionId(scope),\n        tabIndex: -1,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!prop(\"keyboardNavigation\")) return;\n          const isRtl = prop(\"dir\") === \"rtl\";\n          switch (event.key) {\n            case \"ArrowRight\":\n              if (!hasNextStep) return;\n              send({\n                type: isRtl ? \"STEP.PREV\" : \"STEP.NEXT\",\n                src: \"keydown\"\n              });\n              break;\n            case \"ArrowLeft\":\n              if (!hasPrevStep) return;\n              send({\n                type: isRtl ? \"STEP.NEXT\" : \"STEP.PREV\",\n                src: \"keydown\"\n              });\n              break;\n          }\n        }\n      }));\n    },\n    getTitleProps() {\n      return normalize.element(_objectSpread(_objectSpread({}, parts.title.attrs), {}, {\n        id: getTitleId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      }));\n    },\n    getDescriptionProps() {\n      return normalize.element(_objectSpread(_objectSpread({}, parts.description.attrs), {}, {\n        id: getDescriptionId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      }));\n    },\n    getCloseTriggerProps() {\n      return normalize.element(_objectSpread(_objectSpread({}, parts.closeTrigger.attrs), {}, {\n        \"data-type\": step === null || step === void 0 ? void 0 : step.type,\n        \"aria-label\": prop(\"translations\").close,\n        onClick: actionMap.dismiss\n      }));\n    },\n    getActionTriggerProps(props2) {\n      const {\n        action,\n        attrs\n      } = props2.action;\n      let actionProps = {};\n      switch (action) {\n        case \"next\":\n          actionProps = {\n            \"data-type\": \"next\",\n            disabled: !hasNextStep,\n            \"data-disabled\": dataAttr(!hasNextStep),\n            \"aria-label\": prop(\"translations\").nextStep,\n            onClick: actionMap.next\n          };\n          break;\n        case \"prev\":\n          actionProps = {\n            \"data-type\": \"prev\",\n            disabled: !hasPrevStep,\n            \"data-disabled\": dataAttr(!hasPrevStep),\n            \"aria-label\": prop(\"translations\").prevStep,\n            onClick: actionMap.prev\n          };\n          break;\n        case \"dismiss\":\n          actionProps = {\n            \"data-type\": \"close\",\n            \"aria-label\": prop(\"translations\").close,\n            onClick: actionMap.dismiss\n          };\n          break;\n        default:\n          actionProps = {\n            \"data-type\": \"custom\",\n            onClick() {\n              if (typeof action === \"function\") {\n                action(actionMap);\n              }\n            }\n          };\n          break;\n      }\n      return normalize.button(_objectSpread(_objectSpread(_objectSpread({}, parts.actionTrigger.attrs), {}, {\n        type: \"button\"\n      }, attrs), actionProps));\n    }\n  };\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nvar normalizeEventPoint = event => {\n  let clientX = event.clientX;\n  let clientY = event.clientY;\n  let win = event.view || window;\n  let frame = getFrameElement(win);\n  while (frame) {\n    const iframeRect = frame.getBoundingClientRect();\n    const css = getComputedStyle(frame);\n    const left = iframeRect.left + (frame.clientLeft + parseFloat(css.paddingLeft));\n    const top = iframeRect.top + (frame.clientTop + parseFloat(css.paddingTop));\n    clientX += left;\n    clientY += top;\n    win = getWindow(frame);\n    frame = getFrameElement(win);\n  }\n  return {\n    clientX,\n    clientY\n  };\n};\nfunction isEventInRect(rect, event) {\n  const {\n    clientX,\n    clientY\n  } = normalizeEventPoint(event);\n  return rect.y <= clientY && clientY <= rect.y + rect.height && rect.x <= clientX && clientX <= rect.x + rect.width;\n}\nfunction offset(r, i) {\n  const dx = i.x || 0;\n  const dy = i.y || 0;\n  return {\n    x: r.x - dx,\n    y: r.y - dy,\n    width: r.width + dx + dx,\n    height: r.height + dy + dy\n  };\n}\n\n// src/tour.machine.ts\nvar {\n  and\n} = createGuards();\nvar getEffectiveSteps = steps => steps.filter(step => step.type !== \"wait\");\nvar getProgress = (steps, stepIndex) => {\n  const effectiveLength = getEffectiveSteps(steps).length;\n  return (stepIndex + 1) / effectiveLength;\n};\nvar machine = createMachine({\n  props(_ref) {\n    let {\n      props: props2\n    } = _ref;\n    return _objectSpread(_objectSpread({\n      preventInteraction: false,\n      closeOnInteractOutside: true,\n      closeOnEscape: true,\n      keyboardNavigation: true,\n      spotlightOffset: {\n        x: 10,\n        y: 10\n      },\n      spotlightRadius: 4\n    }, props2), {}, {\n      translations: _objectSpread({\n        nextStep: \"next step\",\n        prevStep: \"previous step\",\n        close: \"close tour\",\n        progressText: _ref2 => {\n          let {\n            current,\n            total\n          } = _ref2;\n          return \"\".concat(current + 1, \" of \").concat(total);\n        },\n        skip: \"skip tour\"\n      }, props2.translations)\n    });\n  },\n  initialState() {\n    return \"tour.inactive\";\n  },\n  context(_ref3) {\n    let {\n      prop,\n      bindable,\n      getContext\n    } = _ref3;\n    return {\n      steps: bindable(() => {\n        var _prop2;\n        return {\n          defaultValue: (_prop2 = prop(\"steps\")) !== null && _prop2 !== void 0 ? _prop2 : [],\n          onChange(value) {\n            var _prop3;\n            (_prop3 = prop(\"onStepsChange\")) === null || _prop3 === void 0 || _prop3({\n              steps: value\n            });\n          }\n        };\n      }),\n      stepId: bindable(() => ({\n        defaultValue: prop(\"stepId\"),\n        sync: true,\n        onChange(value) {\n          var _prop4;\n          const context = getContext();\n          const steps = context.get(\"steps\");\n          const stepIndex = findStepIndex(steps, value);\n          const progress = getProgress(steps, stepIndex);\n          const complete = stepIndex == steps.length - 1;\n          (_prop4 = prop(\"onStepChange\")) === null || _prop4 === void 0 || _prop4({\n            stepId: value,\n            stepIndex,\n            totalSteps: steps.length,\n            complete,\n            progress\n          });\n        }\n      })),\n      resolvedTarget: bindable(() => ({\n        sync: true,\n        defaultValue: null\n      })),\n      targetRect: bindable(() => ({\n        defaultValue: {\n          width: 0,\n          height: 0,\n          x: 0,\n          y: 0\n        }\n      })),\n      boundarySize: bindable(() => ({\n        defaultValue: {\n          width: 0,\n          height: 0\n        }\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      }))\n    };\n  },\n  computed: {\n    stepIndex: _ref4 => {\n      let {\n        context\n      } = _ref4;\n      return findStepIndex(context.get(\"steps\"), context.get(\"stepId\"));\n    },\n    step: _ref5 => {\n      let {\n        context\n      } = _ref5;\n      return findStep(context.get(\"steps\"), context.get(\"stepId\"));\n    },\n    hasNextStep: _ref6 => {\n      let {\n        context,\n        computed\n      } = _ref6;\n      return computed(\"stepIndex\") < context.get(\"steps\").length - 1;\n    },\n    hasPrevStep: _ref7 => {\n      let {\n        computed\n      } = _ref7;\n      return computed(\"stepIndex\") > 0;\n    },\n    isFirstStep: _ref8 => {\n      let {\n        computed\n      } = _ref8;\n      return computed(\"stepIndex\") === 0;\n    },\n    isLastStep: _ref9 => {\n      let {\n        context,\n        computed\n      } = _ref9;\n      return computed(\"stepIndex\") === context.get(\"steps\").length - 1;\n    },\n    progress: _ref0 => {\n      let {\n        context,\n        computed\n      } = _ref0;\n      const effectiveLength = getEffectiveSteps(context.get(\"steps\")).length;\n      return (computed(\"stepIndex\") + 1) / effectiveLength;\n    }\n  },\n  watch(_ref1) {\n    let {\n      track,\n      context,\n      action\n    } = _ref1;\n    track([() => context.get(\"stepId\")], () => {\n      queueMicrotask(() => {\n        action([\"setResolvedTarget\", \"raiseStepChange\", \"syncTargetAttrs\"]);\n      });\n    });\n  },\n  effects: [\"trackBoundarySize\"],\n  exit: [\"cleanupRefs\"],\n  on: {\n    \"STEPS.SET\": {\n      actions: [\"setSteps\"]\n    },\n    \"STEP.SET\": {\n      actions: [\"setStep\"]\n    },\n    \"STEP.NEXT\": {\n      actions: [\"setNextStep\"]\n    },\n    \"STEP.PREV\": {\n      actions: [\"setPrevStep\"]\n    },\n    \"STEP.CHANGED\": [{\n      guard: and(\"isValidStep\", \"hasResolvedTarget\"),\n      target: \"target.scrolling\",\n      actions: [\"cleanupRefs\"]\n    }, {\n      guard: and(\"isValidStep\", \"hasTarget\"),\n      target: \"target.resolving\",\n      actions: [\"cleanupRefs\"]\n    }, {\n      guard: and(\"isValidStep\", \"isWaitingStep\"),\n      target: \"step.waiting\",\n      actions: [\"cleanupRefs\"]\n    }, {\n      guard: \"isValidStep\",\n      target: \"tour.active\",\n      actions: [\"cleanupRefs\"]\n    }],\n    DISMISS: [{\n      guard: \"isLastStep\",\n      target: \"tour.inactive\",\n      actions: [\"invokeOnDismiss\", \"invokeOnComplete\", \"clearStep\"]\n    }, {\n      target: \"tour.inactive\",\n      actions: [\"invokeOnDismiss\", \"clearStep\"]\n    }]\n  },\n  states: {\n    \"tour.inactive\": {\n      tags: [\"closed\"],\n      on: {\n        START: {\n          actions: [\"setInitialStep\", \"invokeOnStart\"]\n        }\n      }\n    },\n    \"target.resolving\": {\n      tags: [\"closed\"],\n      effects: [\"waitForTarget\", \"waitForTargetTimeout\"],\n      on: {\n        \"TARGET.NOT_FOUND\": {\n          target: \"tour.inactive\",\n          actions: [\"invokeOnNotFound\", \"clearStep\"]\n        },\n        \"TARGET.RESOLVED\": {\n          target: \"target.scrolling\",\n          actions: [\"setResolvedTarget\"]\n        }\n      }\n    },\n    \"target.scrolling\": {\n      tags: [\"open\"],\n      entry: [\"scrollToTarget\"],\n      effects: [\"waitForScrollEnd\", \"trapFocus\", \"trackPlacement\", \"trackDismissableBranch\", \"trackInteractOutside\", \"trackEscapeKeydown\"],\n      on: {\n        \"SCROLL.END\": {\n          target: \"tour.active\"\n        }\n      }\n    },\n    \"step.waiting\": {\n      tags: [\"closed\"]\n    },\n    \"tour.active\": {\n      tags: [\"open\"],\n      effects: [\"trapFocus\", \"trackPlacement\", \"trackDismissableBranch\", \"trackInteractOutside\", \"trackEscapeKeydown\"]\n    }\n  },\n  implementations: {\n    guards: {\n      isLastStep: _ref10 => {\n        let {\n          computed,\n          context\n        } = _ref10;\n        return computed(\"stepIndex\") === context.get(\"steps\").length - 1;\n      },\n      isValidStep: _ref11 => {\n        let {\n          context\n        } = _ref11;\n        return context.get(\"stepId\") != null;\n      },\n      hasTarget: _ref12 => {\n        var _computed;\n        let {\n          computed\n        } = _ref12;\n        return ((_computed = computed(\"step\")) === null || _computed === void 0 ? void 0 : _computed.target) != null;\n      },\n      hasResolvedTarget: _ref13 => {\n        let {\n          context\n        } = _ref13;\n        return context.get(\"resolvedTarget\") != null;\n      },\n      isWaitingStep: _ref14 => {\n        var _computed2;\n        let {\n          computed\n        } = _ref14;\n        return ((_computed2 = computed(\"step\")) === null || _computed2 === void 0 ? void 0 : _computed2.type) === \"wait\";\n      }\n    },\n    actions: {\n      scrollToTarget(_ref15) {\n        let {\n          context\n        } = _ref15;\n        const node = context.get(\"resolvedTarget\");\n        node === null || node === void 0 || node.scrollIntoView({\n          behavior: \"instant\",\n          block: \"center\",\n          inline: \"center\"\n        });\n      },\n      setStep(params) {\n        const {\n          event,\n          context\n        } = params;\n        const steps = context.get(\"steps\");\n        let step = event.value;\n        if (step == null) return;\n        setStep(params, isString(step) ? findStepIndex(steps, step) : step);\n      },\n      clearStep(params) {\n        const {\n          context\n        } = params;\n        context.set(\"targetRect\", {\n          width: 0,\n          height: 0,\n          x: 0,\n          y: 0\n        });\n        setStep(params, -1);\n      },\n      setInitialStep(params) {\n        const {\n          context,\n          event\n        } = params;\n        const steps = context.get(\"steps\");\n        if (steps.length === 0) return;\n        if (isString(event.value)) {\n          const idx = findStepIndex(steps, event.value);\n          setStep(params, idx);\n          return;\n        }\n        setStep(params, 0);\n      },\n      setNextStep(params) {\n        const {\n          context,\n          computed\n        } = params;\n        const steps = context.get(\"steps\");\n        const idx = nextIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      setPrevStep(params) {\n        const {\n          context,\n          computed\n        } = params;\n        const steps = context.get(\"steps\");\n        const idx = prevIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      invokeOnStart(_ref16) {\n        var _prop5;\n        let {\n          prop,\n          context,\n          computed\n        } = _ref16;\n        (_prop5 = prop(\"onStatusChange\")) === null || _prop5 === void 0 || _prop5({\n          status: \"started\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnDismiss(_ref17) {\n        var _prop6;\n        let {\n          prop,\n          context,\n          computed\n        } = _ref17;\n        (_prop6 = prop(\"onStatusChange\")) === null || _prop6 === void 0 || _prop6({\n          status: \"dismissed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnComplete(_ref18) {\n        var _prop7;\n        let {\n          prop,\n          context,\n          computed\n        } = _ref18;\n        (_prop7 = prop(\"onStatusChange\")) === null || _prop7 === void 0 || _prop7({\n          status: \"completed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnSkip(_ref19) {\n        var _prop8;\n        let {\n          prop,\n          context,\n          computed\n        } = _ref19;\n        (_prop8 = prop(\"onStatusChange\")) === null || _prop8 === void 0 || _prop8({\n          status: \"skipped\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnNotFound(_ref20) {\n        var _prop9;\n        let {\n          prop,\n          context,\n          computed\n        } = _ref20;\n        (_prop9 = prop(\"onStatusChange\")) === null || _prop9 === void 0 || _prop9({\n          status: \"not-found\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      raiseStepChange(_ref21) {\n        let {\n          send\n        } = _ref21;\n        send({\n          type: \"STEP.CHANGED\"\n        });\n      },\n      setResolvedTarget(_ref22) {\n        var _event$node, _computed3, _computed3$target;\n        let {\n          context,\n          event,\n          computed\n        } = _ref22;\n        const node = (_event$node = event.node) !== null && _event$node !== void 0 ? _event$node : (_computed3 = computed(\"step\")) === null || _computed3 === void 0 || (_computed3$target = _computed3.target) === null || _computed3$target === void 0 ? void 0 : _computed3$target.call(_computed3);\n        context.set(\"resolvedTarget\", node !== null && node !== void 0 ? node : null);\n      },\n      syncTargetAttrs(_ref23) {\n        var _refs$get;\n        let {\n          context,\n          refs,\n          prop\n        } = _ref23;\n        (_refs$get = refs.get(\"_targetCleanup\")) === null || _refs$get === void 0 || _refs$get();\n        refs.set(\"_targetCleanup\", void 0);\n        const targetEl = context.get(\"resolvedTarget\");\n        if (!targetEl) return;\n        if (prop(\"preventInteraction\")) targetEl.inert = true;\n        targetEl.setAttribute(\"data-tour-highlighted\", \"\");\n        refs.set(\"_targetCleanup\", () => {\n          if (prop(\"preventInteraction\")) targetEl.inert = false;\n          targetEl.removeAttribute(\"data-tour-highlighted\");\n        });\n      },\n      cleanupRefs(_ref24) {\n        var _refs$get2, _refs$get3;\n        let {\n          refs\n        } = _ref24;\n        (_refs$get2 = refs.get(\"_targetCleanup\")) === null || _refs$get2 === void 0 || _refs$get2();\n        refs.set(\"_targetCleanup\", void 0);\n        (_refs$get3 = refs.get(\"_effectCleanup\")) === null || _refs$get3 === void 0 || _refs$get3();\n        refs.set(\"_effectCleanup\", void 0);\n      },\n      validateSteps(_ref25) {\n        let {\n          context\n        } = _ref25;\n        const ids = /* @__PURE__ */new Set();\n        context.get(\"steps\").forEach(step => {\n          if (ids.has(step.id)) {\n            throw new Error(\"[zag-js/tour] Duplicate step id: \".concat(step.id));\n          }\n          if (step.target == null && step.type == null) {\n            throw new Error(\"[zag-js/tour] Step \".concat(step.id, \" has no target or type. At least one of those is required.\"));\n          }\n          ids.add(step.id);\n        });\n      }\n    },\n    effects: {\n      waitForScrollEnd(_ref26) {\n        let {\n          send\n        } = _ref26;\n        const id = setTimeout(() => {\n          send({\n            type: \"SCROLL.END\"\n          });\n        }, 100);\n        return () => clearTimeout(id);\n      },\n      waitForTargetTimeout(_ref27) {\n        let {\n          send\n        } = _ref27;\n        const id = setTimeout(() => {\n          send({\n            type: \"TARGET.NOT_FOUND\"\n          });\n        }, 3e3);\n        return () => clearTimeout(id);\n      },\n      waitForTarget(_ref28) {\n        let {\n          scope,\n          computed,\n          send\n        } = _ref28;\n        const step = computed(\"step\");\n        if (!step) return;\n        const targetEl = step.target;\n        const win = scope.getWin();\n        const rootNode = scope.getRootNode();\n        const observer = new win.MutationObserver(() => {\n          const node = targetEl === null || targetEl === void 0 ? void 0 : targetEl();\n          if (node) {\n            send({\n              type: \"TARGET.RESOLVED\",\n              node\n            });\n            observer.disconnect();\n          }\n        });\n        observer.observe(rootNode, {\n          childList: true,\n          subtree: true,\n          characterData: true\n        });\n        return () => {\n          observer.disconnect();\n        };\n      },\n      trackBoundarySize(_ref29) {\n        var _win$visualViewport;\n        let {\n          context,\n          scope\n        } = _ref29;\n        const win = scope.getWin();\n        const doc = scope.getDoc();\n        const onResize = () => {\n          var _visualViewport$width, _visualViewport;\n          const width = (_visualViewport$width = (_visualViewport = visualViewport) === null || _visualViewport === void 0 ? void 0 : _visualViewport.width) !== null && _visualViewport$width !== void 0 ? _visualViewport$width : win.innerWidth;\n          const height = doc.documentElement.scrollHeight;\n          context.set(\"boundarySize\", {\n            width,\n            height\n          });\n        };\n        onResize();\n        const viewport = (_win$visualViewport = win.visualViewport) !== null && _win$visualViewport !== void 0 ? _win$visualViewport : win;\n        viewport.addEventListener(\"resize\", onResize);\n        return () => viewport.removeEventListener(\"resize\", onResize);\n      },\n      trackEscapeKeydown(_ref30) {\n        let {\n          scope,\n          send,\n          prop\n        } = _ref30;\n        if (!prop(\"closeOnEscape\")) return;\n        const doc = scope.getDoc();\n        const onKeyDown = event => {\n          if (event.key === \"Escape\") {\n            event.preventDefault();\n            event.stopPropagation();\n            send({\n              type: \"DISMISS\",\n              src: \"esc\"\n            });\n          }\n        };\n        doc.addEventListener(\"keydown\", onKeyDown, true);\n        return () => {\n          doc.removeEventListener(\"keydown\", onKeyDown, true);\n        };\n      },\n      trackInteractOutside(_ref31) {\n        let {\n          context,\n          computed,\n          scope,\n          send,\n          prop\n        } = _ref31;\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackInteractOutside(contentEl, {\n          defer: true,\n          exclude(target) {\n            var _step$target3;\n            return contains((_step$target3 = step.target) === null || _step$target3 === void 0 ? void 0 : _step$target3.call(step), target);\n          },\n          onFocusOutside(event) {\n            var _prop0;\n            (_prop0 = prop(\"onFocusOutside\")) === null || _prop0 === void 0 || _prop0(event);\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onPointerDownOutside(event) {\n            var _prop1;\n            (_prop1 = prop(\"onPointerDownOutside\")) === null || _prop1 === void 0 || _prop1(event);\n            const isWithin = isEventInRect(context.get(\"targetRect\"), event.detail.originalEvent);\n            if (isWithin) {\n              event.preventDefault();\n              return;\n            }\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onInteractOutside(event) {\n            var _prop10;\n            (_prop10 = prop(\"onInteractOutside\")) === null || _prop10 === void 0 || _prop10(event);\n            if (event.defaultPrevented) return;\n            send({\n              type: \"DISMISS\",\n              src: \"interact-outside\"\n            });\n          }\n        });\n      },\n      trackDismissableBranch(_ref32) {\n        let {\n          computed,\n          scope\n        } = _ref32;\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackDismissableBranch(contentEl, {\n          defer: !contentEl()\n        });\n      },\n      trapFocus(_ref33) {\n        let {\n          computed,\n          scope\n        } = _ref33;\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trapFocus(contentEl, {\n          escapeDeactivates: false,\n          allowOutsideClick: true,\n          preventScroll: true,\n          returnFocusOnDeactivate: false\n        });\n      },\n      trackPlacement(_ref34) {\n        var _step$placement, _step$placement2;\n        let {\n          context,\n          computed,\n          scope,\n          prop\n        } = _ref34;\n        const step = computed(\"step\");\n        if (step == null) return;\n        context.set(\"currentPlacement\", (_step$placement = step.placement) !== null && _step$placement !== void 0 ? _step$placement : \"bottom\");\n        if (isDialogStep(step)) {\n          return syncZIndex(scope);\n        }\n        if (!isTooltipStep(step)) {\n          return;\n        }\n        const positionerEl = () => getPositionerEl(scope);\n        return getPlacement(context.get(\"resolvedTarget\"), positionerEl, {\n          defer: true,\n          placement: (_step$placement2 = step.placement) !== null && _step$placement2 !== void 0 ? _step$placement2 : \"bottom\",\n          strategy: \"absolute\",\n          gutter: 10,\n          offset: step.offset,\n          getAnchorRect(el) {\n            if (!isHTMLElement(el)) return null;\n            const rect = el.getBoundingClientRect();\n            return offset(rect, prop(\"spotlightOffset\"));\n          },\n          onComplete(data) {\n            const {\n              rects\n            } = data.middlewareData;\n            context.set(\"currentPlacement\", data.placement);\n            context.set(\"targetRect\", rects.reference);\n          }\n        });\n      }\n    }\n  }\n});\nfunction syncZIndex(scope) {\n  return raf(() => {\n    const contentEl = getContentEl(scope);\n    if (!contentEl) return;\n    const styles = getComputedStyle$1(contentEl);\n    const positionerEl = getPositionerEl(scope);\n    const backdropEl = getBackdropEl(scope);\n    if (positionerEl) {\n      positionerEl.style.setProperty(\"--z-index\", styles.zIndex);\n      positionerEl.style.setProperty(\"z-index\", \"var(--z-index)\");\n    }\n    if (backdropEl) {\n      backdropEl.style.setProperty(\"--z-index\", styles.zIndex);\n    }\n  });\n}\nfunction setStep(params, idx) {\n  const {\n    context,\n    refs,\n    computed,\n    prop\n  } = params;\n  const steps = context.get(\"steps\");\n  const step = steps[idx];\n  if (!step) {\n    context.set(\"stepId\", null);\n    return;\n  }\n  if (isEqual(context.get(\"stepId\"), step.id)) return;\n  const update = data => {\n    context.set(\"steps\", prev => prev.map((s, i) => i === idx ? _objectSpread(_objectSpread({}, s), data) : s));\n  };\n  const next = () => {\n    const idx2 = nextIndex(steps, computed(\"stepIndex\"));\n    context.set(\"stepId\", steps[idx2].id);\n  };\n  const goto = id => {\n    const step2 = findStep(steps, id);\n    if (!step2) return;\n    context.set(\"stepId\", step2.id);\n  };\n  const dismiss = () => {\n    var _prop11;\n    context.set(\"stepId\", null);\n    (_prop11 = prop(\"onStatusChange\")) === null || _prop11 === void 0 || _prop11({\n      status: \"dismissed\",\n      stepId: null,\n      stepIndex: -1\n    });\n  };\n  const show = () => {\n    context.set(\"stepId\", step.id);\n  };\n  if (!step.effect) {\n    show();\n    return;\n  }\n  const cleanup = step.effect({\n    show,\n    next,\n    update,\n    target: step.target,\n    dismiss,\n    goto\n  });\n  refs.set(\"_effectCleanup\", cleanup);\n}\nvar props = createProps()([\"closeOnEscape\", \"closeOnInteractOutside\", \"dir\", \"getRootNode\", \"id\", \"ids\", \"keyboardNavigation\", \"onFocusOutside\", \"onInteractOutside\", \"onPointerDownOutside\", \"onStatusChange\", \"onStepChange\", \"onStepsChange\", \"preventInteraction\", \"spotlightOffset\", \"spotlightRadius\", \"stepId\", \"steps\", \"translations\"]);\nvar splitProps = createSplitProps(props);\nfunction waitForElementValue(target, value, options) {\n  const {\n    timeout,\n    rootNode\n  } = options;\n  const win = getWindow(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(new Promise(resolve => {\n    const el = target();\n    if (!el) return;\n    const checkValue = () => {\n      if (el.value === value) {\n        resolve();\n        el.removeEventListener(\"input\", checkValue);\n      }\n    };\n    checkValue();\n    el.addEventListener(\"input\", checkValue, {\n      signal: controller.signal\n    });\n  }), controller, timeout);\n}\nexport { anatomy, connect, machine, props, splitProps, waitForElementValue };","map":{"version":3,"names":["createAnatomy","createGuards","createMachine","mergeProps","isHTMLElement","contains","raf","getComputedStyle","getComputedStyle$1","getWindow","dataAttr","waitForPromise","waitForElement","getPlacement","getPlacementStyles","trackDismissableBranch","trapFocus","trackInteractOutside","prevIndex","nextIndex","isString","isEqual","createSplitProps","createProps","anatomy","parts","build","getPositionerId","ctx","_ctx$ids$positioner","_ctx$ids","ids","positioner","concat","id","getContentId","_ctx$ids$content","_ctx$ids2","content","getTitleId","_ctx$ids$title","_ctx$ids3","title","getDescriptionId","_ctx$ids$description","_ctx$ids4","description","getArrowId","_ctx$ids$arrow","_ctx$ids5","arrow","getBackdropId","_ctx$ids$backdrop","_ctx$ids6","backdrop","getContentEl","getById","getPositionerEl","getBackdropEl","getClipPath","options","radius","rootSize","width","w","height","h","rect","x","y","enabled","topLeft","topRight","bottomRight","bottomLeft","isTooltipStep","step","type","isDialogStep","isTooltipPlacement","placement","normalizeStep","_objectSpread","target","findStep","steps","res","find","findStepIndex","findIndex","connect","service","normalize","_step$target","state","context","computed","send","prop","scope","open","hasTag","Array","from","get","stepIndex","hasTarget","call","hasNextStep","hasPrevStep","firstStep","lastStep","targetRect","popperStyles","strategy","clipPath","actionMap","next","src","prev","dismiss","goto","value","totalSteps","length","addStep","step2","removeStep","filter","updateStep","stepOverrides","map","setSteps","steps2","setStep","start","isValidStep","some","isCurrentStep","Boolean","getProgressPercent","getProgressText","_prop$progressText","_prop$progressText2","_prop","effectiveSteps","index","details","current","total","progressText","getBackdropProps","element","attrs","dir","hidden","style","position","inset","willChange","getSpotlightProps","_step$target2","spotlight","left","top","borderRadius","pointerEvents","getProgressTextProps","getPositionerProps","floating","getArrowProps","opacity","getArrowTipProps","arrowTip","getContentProps","role","tabIndex","onKeyDown","event","defaultPrevented","isRtl","key","getTitleProps","getDescriptionProps","getCloseTriggerProps","closeTrigger","close","onClick","getActionTriggerProps","props2","action","actionProps","disabled","nextStep","prevStep","button","actionTrigger","getFrameElement","win","parent","Object","getPrototypeOf","frameElement","normalizeEventPoint","clientX","clientY","view","window","frame","iframeRect","getBoundingClientRect","css","clientLeft","parseFloat","paddingLeft","clientTop","paddingTop","isEventInRect","offset","r","i","dx","dy","and","getEffectiveSteps","getProgress","effectiveLength","machine","props","_ref","preventInteraction","closeOnInteractOutside","closeOnEscape","keyboardNavigation","spotlightOffset","spotlightRadius","translations","_ref2","skip","initialState","_ref3","bindable","getContext","_prop2","defaultValue","onChange","_prop3","stepId","sync","_prop4","progress","complete","resolvedTarget","boundarySize","currentPlacement","_ref4","_ref5","_ref6","_ref7","isFirstStep","_ref8","isLastStep","_ref9","_ref0","watch","_ref1","track","queueMicrotask","effects","exit","on","actions","guard","DISMISS","states","tags","START","entry","implementations","guards","_ref10","_ref11","_ref12","_computed","hasResolvedTarget","_ref13","isWaitingStep","_ref14","_computed2","scrollToTarget","_ref15","node","scrollIntoView","behavior","block","inline","params","clearStep","set","setInitialStep","idx","setNextStep","setPrevStep","invokeOnStart","_ref16","_prop5","status","invokeOnDismiss","_ref17","_prop6","invokeOnComplete","_ref18","_prop7","invokeOnSkip","_ref19","_prop8","invokeOnNotFound","_ref20","_prop9","raiseStepChange","_ref21","setResolvedTarget","_ref22","_event$node","_computed3","_computed3$target","syncTargetAttrs","_ref23","_refs$get","refs","targetEl","inert","setAttribute","removeAttribute","cleanupRefs","_ref24","_refs$get2","_refs$get3","validateSteps","_ref25","Set","forEach","has","Error","add","waitForScrollEnd","_ref26","setTimeout","clearTimeout","waitForTargetTimeout","_ref27","waitForTarget","_ref28","getWin","rootNode","getRootNode","observer","MutationObserver","disconnect","observe","childList","subtree","characterData","trackBoundarySize","_ref29","_win$visualViewport","doc","getDoc","onResize","_visualViewport$width","_visualViewport","visualViewport","innerWidth","documentElement","scrollHeight","viewport","addEventListener","removeEventListener","trackEscapeKeydown","_ref30","preventDefault","stopPropagation","_ref31","contentEl","defer","exclude","_step$target3","onFocusOutside","_prop0","onPointerDownOutside","_prop1","isWithin","detail","originalEvent","onInteractOutside","_prop10","_ref32","_ref33","escapeDeactivates","allowOutsideClick","preventScroll","returnFocusOnDeactivate","trackPlacement","_ref34","_step$placement","_step$placement2","syncZIndex","positionerEl","gutter","getAnchorRect","el","onComplete","data","rects","middlewareData","reference","styles","backdropEl","setProperty","zIndex","update","s","idx2","_prop11","show","effect","cleanup","splitProps","waitForElementValue","timeout","controller","AbortController","Promise","resolve","checkValue","signal"],"sources":["C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@zag-js/tour/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { createGuards, createMachine, mergeProps } from '@zag-js/core';\nimport { isHTMLElement, contains, raf, getComputedStyle as getComputedStyle$1, getWindow, dataAttr, waitForPromise } from '@zag-js/dom-query';\nexport { waitForElement, waitForPromise } from '@zag-js/dom-query';\nimport { getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { trackDismissableBranch } from '@zag-js/dismissable';\nimport { trapFocus } from '@zag-js/focus-trap';\nimport { trackInteractOutside } from '@zag-js/interact-outside';\nimport { prevIndex, nextIndex, isString, isEqual, createSplitProps } from '@zag-js/utils';\nimport { createProps } from '@zag-js/types';\n\n// src/tour.anatomy.ts\nvar anatomy = createAnatomy(\"tour\").parts(\n  \"content\",\n  \"actionTrigger\",\n  \"closeTrigger\",\n  \"progressText\",\n  \"title\",\n  \"description\",\n  \"positioner\",\n  \"arrow\",\n  \"arrowTip\",\n  \"backdrop\",\n  \"spotlight\"\n);\nvar parts = anatomy.build();\n\n// src/tour.dom.ts\nvar getPositionerId = (ctx) => ctx.ids?.positioner ?? `tour-positioner-${ctx.id}`;\nvar getContentId = (ctx) => ctx.ids?.content ?? `tour-content-${ctx.id}`;\nvar getTitleId = (ctx) => ctx.ids?.title ?? `tour-title-${ctx.id}`;\nvar getDescriptionId = (ctx) => ctx.ids?.description ?? `tour-desc-${ctx.id}`;\nvar getArrowId = (ctx) => ctx.ids?.arrow ?? `tour-arrow-${ctx.id}`;\nvar getBackdropId = (ctx) => ctx.ids?.backdrop ?? `tour-backdrop-${ctx.id}`;\nvar getContentEl = (ctx) => ctx.getById(getContentId(ctx));\nvar getPositionerEl = (ctx) => ctx.getById(getPositionerId(ctx));\nvar getBackdropEl = (ctx) => ctx.getById(getBackdropId(ctx));\n\n// src/utils/clip-path.ts\nfunction getClipPath(options) {\n  const {\n    radius = 0,\n    rootSize: { width: w, height: h },\n    rect: { width, height, x, y },\n    enabled = true\n  } = options;\n  if (!enabled) return \"\";\n  const {\n    topLeft = 0,\n    topRight = 0,\n    bottomRight = 0,\n    bottomLeft = 0\n  } = typeof radius === \"number\" ? { topLeft: radius, topRight: radius, bottomRight: radius, bottomLeft: radius } : radius;\n  return `M${w},${h}  H0  V0  H${w}  V${h}  Z  M${x + topLeft},${y}  a${topLeft},${topLeft},0,0,0-${topLeft},${topLeft}  V${height + y - bottomLeft}  a${bottomLeft},${bottomLeft},0,0,0,${bottomLeft},${bottomLeft}  H${width + x - bottomRight}  a${bottomRight},${bottomRight},0,0,0,${bottomRight}-${bottomRight}  V${y + topRight}  a${topRight},${topRight},0,0,0-${topRight}-${topRight}  Z`;\n}\n\n// src/utils/step.ts\nvar isTooltipStep = (step) => {\n  return step?.type === \"tooltip\";\n};\nvar isDialogStep = (step) => {\n  return step?.type === \"dialog\";\n};\nvar isTooltipPlacement = (placement) => {\n  return placement != null && placement != \"center\";\n};\nvar normalizeStep = (step) => {\n  if (step.type === \"floating\") {\n    return { backdrop: false, arrow: false, placement: \"bottom-end\", ...step };\n  }\n  if (step.target == null || step.type === \"dialog\") {\n    return { type: \"dialog\", placement: \"center\", backdrop: true, ...step };\n  }\n  if (!step.type || step.type === \"tooltip\") {\n    return { type: \"tooltip\", arrow: true, backdrop: true, ...step };\n  }\n  return step;\n};\nvar findStep = (steps, id) => {\n  const res = id != null ? steps.find((step) => step.id === id) : null;\n  return res ? normalizeStep(res) : null;\n};\nvar findStepIndex = (steps, id) => {\n  return id != null ? steps.findIndex((step) => step.id === id) : -1;\n};\n\n// src/tour.connect.ts\nfunction connect(service, normalize) {\n  const { state, context, computed, send, prop, scope } = service;\n  const open = state.hasTag(\"open\");\n  const steps = Array.from(context.get(\"steps\"));\n  const stepIndex = computed(\"stepIndex\");\n  const step = computed(\"step\");\n  const hasTarget = typeof step?.target?.() !== \"undefined\";\n  const hasNextStep = computed(\"hasNextStep\");\n  const hasPrevStep = computed(\"hasPrevStep\");\n  const firstStep = computed(\"isFirstStep\");\n  const lastStep = computed(\"isLastStep\");\n  const placement = context.get(\"currentPlacement\");\n  const targetRect = context.get(\"targetRect\");\n  const popperStyles = getPlacementStyles({\n    strategy: \"absolute\",\n    placement: isTooltipPlacement(placement) ? placement : void 0\n  });\n  const clipPath = getClipPath({\n    enabled: isTooltipStep(step),\n    rect: targetRect,\n    rootSize: context.get(\"boundarySize\"),\n    radius: prop(\"spotlightRadius\")\n  });\n  const actionMap = {\n    next() {\n      send({ type: \"STEP.NEXT\", src: \"actionTrigger\" });\n    },\n    prev() {\n      send({ type: \"STEP.PREV\", src: \"actionTrigger\" });\n    },\n    dismiss() {\n      send({ type: \"DISMISS\", src: \"actionTrigger\" });\n    },\n    goto(id) {\n      send({ type: \"STEP.SET\", value: id, src: \"actionTrigger\" });\n    }\n  };\n  return {\n    open,\n    totalSteps: steps.length,\n    stepIndex,\n    step,\n    hasNextStep,\n    hasPrevStep,\n    firstStep,\n    lastStep,\n    addStep(step2) {\n      const next = steps.concat(step2);\n      send({ type: \"STEPS.SET\", value: next, src: \"addStep\" });\n    },\n    removeStep(id) {\n      const next = steps.filter((step2) => step2.id !== id);\n      send({ type: \"STEPS.SET\", value: next, src: \"removeStep\" });\n    },\n    updateStep(id, stepOverrides) {\n      const next = steps.map((step2) => step2.id === id ? mergeProps(step2, stepOverrides) : step2);\n      send({ type: \"STEPS.SET\", value: next, src: \"updateStep\" });\n    },\n    setSteps(steps2) {\n      send({ type: \"STEPS.SET\", value: steps2, src: \"setSteps\" });\n    },\n    setStep(id) {\n      send({ type: \"STEP.SET\", value: id });\n    },\n    start(id) {\n      send({ type: \"START\", value: id });\n    },\n    isValidStep(id) {\n      return steps.some((step2) => step2.id === id);\n    },\n    isCurrentStep(id) {\n      return Boolean(step?.id === id);\n    },\n    next() {\n      send({ type: \"STEP.NEXT\" });\n    },\n    prev() {\n      send({ type: \"STEP.PREV\" });\n    },\n    getProgressPercent() {\n      return stepIndex / steps.length * 100;\n    },\n    getProgressText() {\n      const effectiveSteps = steps.filter((step2) => step2.type !== \"wait\");\n      const index = findStepIndex(effectiveSteps, step?.id);\n      const details = { current: index, total: effectiveSteps.length };\n      return prop(\"translations\").progressText?.(details) ?? \"\";\n    },\n    getBackdropProps() {\n      return normalize.element({\n        ...parts.backdrop.attrs,\n        id: getBackdropId(scope),\n        dir: prop(\"dir\"),\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step?.type,\n        style: {\n          \"--tour-layer\": 0,\n          clipPath: isTooltipStep(step) ? `path(\"${clipPath}\")` : void 0,\n          position: \"absolute\",\n          inset: \"0\",\n          willChange: \"clip-path\"\n        }\n      });\n    },\n    getSpotlightProps() {\n      return normalize.element({\n        ...parts.spotlight.attrs,\n        hidden: !open || !step?.target?.(),\n        style: {\n          \"--tour-layer\": 1,\n          position: \"absolute\",\n          width: `${targetRect.width}px`,\n          height: `${targetRect.height}px`,\n          left: `${targetRect.x}px`,\n          top: `${targetRect.y}px`,\n          borderRadius: `${prop(\"spotlightRadius\")}px`,\n          pointerEvents: \"none\"\n        }\n      });\n    },\n    getProgressTextProps() {\n      return normalize.element({\n        ...parts.progressText.attrs\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        \"data-type\": step?.type,\n        \"data-placement\": placement,\n        style: {\n          \"--tour-layer\": 2,\n          ...step?.type === \"tooltip\" && popperStyles.floating\n        }\n      });\n    },\n    getArrowProps() {\n      return normalize.element({\n        id: getArrowId(scope),\n        ...parts.arrow.attrs,\n        dir: prop(\"dir\"),\n        hidden: step?.type !== \"tooltip\",\n        style: step?.type === \"tooltip\" ? popperStyles.arrow : void 0,\n        opacity: hasTarget ? void 0 : 0\n      });\n    },\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: prop(\"dir\"),\n        style: popperStyles.arrowTip\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: getContentId(scope),\n        dir: prop(\"dir\"),\n        role: \"alertdialog\",\n        \"aria-modal\": \"true\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-type\": step?.type,\n        \"data-placement\": placement,\n        \"data-step\": step?.id,\n        \"aria-labelledby\": getTitleId(scope),\n        \"aria-describedby\": getDescriptionId(scope),\n        tabIndex: -1,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!prop(\"keyboardNavigation\")) return;\n          const isRtl = prop(\"dir\") === \"rtl\";\n          switch (event.key) {\n            case \"ArrowRight\":\n              if (!hasNextStep) return;\n              send({ type: isRtl ? \"STEP.PREV\" : \"STEP.NEXT\", src: \"keydown\" });\n              break;\n            case \"ArrowLeft\":\n              if (!hasPrevStep) return;\n              send({ type: isRtl ? \"STEP.NEXT\" : \"STEP.PREV\", src: \"keydown\" });\n              break;\n          }\n        }\n      });\n    },\n    getTitleProps() {\n      return normalize.element({\n        ...parts.title.attrs,\n        id: getTitleId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      });\n    },\n    getDescriptionProps() {\n      return normalize.element({\n        ...parts.description.attrs,\n        id: getDescriptionId(scope),\n        \"data-placement\": hasTarget ? placement : \"center\"\n      });\n    },\n    getCloseTriggerProps() {\n      return normalize.element({\n        ...parts.closeTrigger.attrs,\n        \"data-type\": step?.type,\n        \"aria-label\": prop(\"translations\").close,\n        onClick: actionMap.dismiss\n      });\n    },\n    getActionTriggerProps(props2) {\n      const { action, attrs } = props2.action;\n      let actionProps = {};\n      switch (action) {\n        case \"next\":\n          actionProps = {\n            \"data-type\": \"next\",\n            disabled: !hasNextStep,\n            \"data-disabled\": dataAttr(!hasNextStep),\n            \"aria-label\": prop(\"translations\").nextStep,\n            onClick: actionMap.next\n          };\n          break;\n        case \"prev\":\n          actionProps = {\n            \"data-type\": \"prev\",\n            disabled: !hasPrevStep,\n            \"data-disabled\": dataAttr(!hasPrevStep),\n            \"aria-label\": prop(\"translations\").prevStep,\n            onClick: actionMap.prev\n          };\n          break;\n        case \"dismiss\":\n          actionProps = {\n            \"data-type\": \"close\",\n            \"aria-label\": prop(\"translations\").close,\n            onClick: actionMap.dismiss\n          };\n          break;\n        default:\n          actionProps = {\n            \"data-type\": \"custom\",\n            onClick() {\n              if (typeof action === \"function\") {\n                action(actionMap);\n              }\n            }\n          };\n          break;\n      }\n      return normalize.button({\n        ...parts.actionTrigger.attrs,\n        type: \"button\",\n        ...attrs,\n        ...actionProps\n      });\n    }\n  };\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nvar normalizeEventPoint = (event) => {\n  let clientX = event.clientX;\n  let clientY = event.clientY;\n  let win = event.view || window;\n  let frame = getFrameElement(win);\n  while (frame) {\n    const iframeRect = frame.getBoundingClientRect();\n    const css = getComputedStyle(frame);\n    const left = iframeRect.left + (frame.clientLeft + parseFloat(css.paddingLeft));\n    const top = iframeRect.top + (frame.clientTop + parseFloat(css.paddingTop));\n    clientX += left;\n    clientY += top;\n    win = getWindow(frame);\n    frame = getFrameElement(win);\n  }\n  return { clientX, clientY };\n};\nfunction isEventInRect(rect, event) {\n  const { clientX, clientY } = normalizeEventPoint(event);\n  return rect.y <= clientY && clientY <= rect.y + rect.height && rect.x <= clientX && clientX <= rect.x + rect.width;\n}\nfunction offset(r, i) {\n  const dx = i.x || 0;\n  const dy = i.y || 0;\n  return {\n    x: r.x - dx,\n    y: r.y - dy,\n    width: r.width + dx + dx,\n    height: r.height + dy + dy\n  };\n}\n\n// src/tour.machine.ts\nvar { and } = createGuards();\nvar getEffectiveSteps = (steps) => steps.filter((step) => step.type !== \"wait\");\nvar getProgress = (steps, stepIndex) => {\n  const effectiveLength = getEffectiveSteps(steps).length;\n  return (stepIndex + 1) / effectiveLength;\n};\nvar machine = createMachine({\n  props({ props: props2 }) {\n    return {\n      preventInteraction: false,\n      closeOnInteractOutside: true,\n      closeOnEscape: true,\n      keyboardNavigation: true,\n      spotlightOffset: { x: 10, y: 10 },\n      spotlightRadius: 4,\n      ...props2,\n      translations: {\n        nextStep: \"next step\",\n        prevStep: \"previous step\",\n        close: \"close tour\",\n        progressText: ({ current, total }) => `${current + 1} of ${total}`,\n        skip: \"skip tour\",\n        ...props2.translations\n      }\n    };\n  },\n  initialState() {\n    return \"tour.inactive\";\n  },\n  context({ prop, bindable, getContext }) {\n    return {\n      steps: bindable(() => ({\n        defaultValue: prop(\"steps\") ?? [],\n        onChange(value) {\n          prop(\"onStepsChange\")?.({ steps: value });\n        }\n      })),\n      stepId: bindable(() => ({\n        defaultValue: prop(\"stepId\"),\n        sync: true,\n        onChange(value) {\n          const context = getContext();\n          const steps = context.get(\"steps\");\n          const stepIndex = findStepIndex(steps, value);\n          const progress = getProgress(steps, stepIndex);\n          const complete = stepIndex == steps.length - 1;\n          prop(\"onStepChange\")?.({ stepId: value, stepIndex, totalSteps: steps.length, complete, progress });\n        }\n      })),\n      resolvedTarget: bindable(() => ({\n        sync: true,\n        defaultValue: null\n      })),\n      targetRect: bindable(() => ({\n        defaultValue: { width: 0, height: 0, x: 0, y: 0 }\n      })),\n      boundarySize: bindable(() => ({\n        defaultValue: { width: 0, height: 0 }\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      }))\n    };\n  },\n  computed: {\n    stepIndex: ({ context }) => findStepIndex(context.get(\"steps\"), context.get(\"stepId\")),\n    step: ({ context }) => findStep(context.get(\"steps\"), context.get(\"stepId\")),\n    hasNextStep: ({ context, computed }) => computed(\"stepIndex\") < context.get(\"steps\").length - 1,\n    hasPrevStep: ({ computed }) => computed(\"stepIndex\") > 0,\n    isFirstStep: ({ computed }) => computed(\"stepIndex\") === 0,\n    isLastStep: ({ context, computed }) => computed(\"stepIndex\") === context.get(\"steps\").length - 1,\n    progress: ({ context, computed }) => {\n      const effectiveLength = getEffectiveSteps(context.get(\"steps\")).length;\n      return (computed(\"stepIndex\") + 1) / effectiveLength;\n    }\n  },\n  watch({ track, context, action }) {\n    track([() => context.get(\"stepId\")], () => {\n      queueMicrotask(() => {\n        action([\"setResolvedTarget\", \"raiseStepChange\", \"syncTargetAttrs\"]);\n      });\n    });\n  },\n  effects: [\"trackBoundarySize\"],\n  exit: [\"cleanupRefs\"],\n  on: {\n    \"STEPS.SET\": {\n      actions: [\"setSteps\"]\n    },\n    \"STEP.SET\": {\n      actions: [\"setStep\"]\n    },\n    \"STEP.NEXT\": {\n      actions: [\"setNextStep\"]\n    },\n    \"STEP.PREV\": {\n      actions: [\"setPrevStep\"]\n    },\n    \"STEP.CHANGED\": [\n      {\n        guard: and(\"isValidStep\", \"hasResolvedTarget\"),\n        target: \"target.scrolling\",\n        actions: [\"cleanupRefs\"]\n      },\n      {\n        guard: and(\"isValidStep\", \"hasTarget\"),\n        target: \"target.resolving\",\n        actions: [\"cleanupRefs\"]\n      },\n      {\n        guard: and(\"isValidStep\", \"isWaitingStep\"),\n        target: \"step.waiting\",\n        actions: [\"cleanupRefs\"]\n      },\n      {\n        guard: \"isValidStep\",\n        target: \"tour.active\",\n        actions: [\"cleanupRefs\"]\n      }\n    ],\n    DISMISS: [\n      {\n        guard: \"isLastStep\",\n        target: \"tour.inactive\",\n        actions: [\"invokeOnDismiss\", \"invokeOnComplete\", \"clearStep\"]\n      },\n      {\n        target: \"tour.inactive\",\n        actions: [\"invokeOnDismiss\", \"clearStep\"]\n      }\n    ]\n  },\n  states: {\n    \"tour.inactive\": {\n      tags: [\"closed\"],\n      on: {\n        START: {\n          actions: [\"setInitialStep\", \"invokeOnStart\"]\n        }\n      }\n    },\n    \"target.resolving\": {\n      tags: [\"closed\"],\n      effects: [\"waitForTarget\", \"waitForTargetTimeout\"],\n      on: {\n        \"TARGET.NOT_FOUND\": {\n          target: \"tour.inactive\",\n          actions: [\"invokeOnNotFound\", \"clearStep\"]\n        },\n        \"TARGET.RESOLVED\": {\n          target: \"target.scrolling\",\n          actions: [\"setResolvedTarget\"]\n        }\n      }\n    },\n    \"target.scrolling\": {\n      tags: [\"open\"],\n      entry: [\"scrollToTarget\"],\n      effects: [\n        \"waitForScrollEnd\",\n        \"trapFocus\",\n        \"trackPlacement\",\n        \"trackDismissableBranch\",\n        \"trackInteractOutside\",\n        \"trackEscapeKeydown\"\n      ],\n      on: {\n        \"SCROLL.END\": {\n          target: \"tour.active\"\n        }\n      }\n    },\n    \"step.waiting\": {\n      tags: [\"closed\"]\n    },\n    \"tour.active\": {\n      tags: [\"open\"],\n      effects: [\"trapFocus\", \"trackPlacement\", \"trackDismissableBranch\", \"trackInteractOutside\", \"trackEscapeKeydown\"]\n    }\n  },\n  implementations: {\n    guards: {\n      isLastStep: ({ computed, context }) => computed(\"stepIndex\") === context.get(\"steps\").length - 1,\n      isValidStep: ({ context }) => context.get(\"stepId\") != null,\n      hasTarget: ({ computed }) => computed(\"step\")?.target != null,\n      hasResolvedTarget: ({ context }) => context.get(\"resolvedTarget\") != null,\n      isWaitingStep: ({ computed }) => computed(\"step\")?.type === \"wait\"\n    },\n    actions: {\n      scrollToTarget({ context }) {\n        const node = context.get(\"resolvedTarget\");\n        node?.scrollIntoView({ behavior: \"instant\", block: \"center\", inline: \"center\" });\n      },\n      setStep(params) {\n        const { event, context } = params;\n        const steps = context.get(\"steps\");\n        let step = event.value;\n        if (step == null) return;\n        setStep(params, isString(step) ? findStepIndex(steps, step) : step);\n      },\n      clearStep(params) {\n        const { context } = params;\n        context.set(\"targetRect\", { width: 0, height: 0, x: 0, y: 0 });\n        setStep(params, -1);\n      },\n      setInitialStep(params) {\n        const { context, event } = params;\n        const steps = context.get(\"steps\");\n        if (steps.length === 0) return;\n        if (isString(event.value)) {\n          const idx = findStepIndex(steps, event.value);\n          setStep(params, idx);\n          return;\n        }\n        setStep(params, 0);\n      },\n      setNextStep(params) {\n        const { context, computed } = params;\n        const steps = context.get(\"steps\");\n        const idx = nextIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      setPrevStep(params) {\n        const { context, computed } = params;\n        const steps = context.get(\"steps\");\n        const idx = prevIndex(steps, computed(\"stepIndex\"));\n        setStep(params, idx);\n      },\n      invokeOnStart({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"started\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnDismiss({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"dismissed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnComplete({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"completed\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnSkip({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"skipped\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      invokeOnNotFound({ prop, context, computed }) {\n        prop(\"onStatusChange\")?.({\n          status: \"not-found\",\n          stepId: context.get(\"stepId\"),\n          stepIndex: computed(\"stepIndex\")\n        });\n      },\n      raiseStepChange({ send }) {\n        send({ type: \"STEP.CHANGED\" });\n      },\n      setResolvedTarget({ context, event, computed }) {\n        const node = event.node ?? computed(\"step\")?.target?.();\n        context.set(\"resolvedTarget\", node ?? null);\n      },\n      syncTargetAttrs({ context, refs, prop }) {\n        refs.get(\"_targetCleanup\")?.();\n        refs.set(\"_targetCleanup\", void 0);\n        const targetEl = context.get(\"resolvedTarget\");\n        if (!targetEl) return;\n        if (prop(\"preventInteraction\")) targetEl.inert = true;\n        targetEl.setAttribute(\"data-tour-highlighted\", \"\");\n        refs.set(\"_targetCleanup\", () => {\n          if (prop(\"preventInteraction\")) targetEl.inert = false;\n          targetEl.removeAttribute(\"data-tour-highlighted\");\n        });\n      },\n      cleanupRefs({ refs }) {\n        refs.get(\"_targetCleanup\")?.();\n        refs.set(\"_targetCleanup\", void 0);\n        refs.get(\"_effectCleanup\")?.();\n        refs.set(\"_effectCleanup\", void 0);\n      },\n      validateSteps({ context }) {\n        const ids = /* @__PURE__ */ new Set();\n        context.get(\"steps\").forEach((step) => {\n          if (ids.has(step.id)) {\n            throw new Error(`[zag-js/tour] Duplicate step id: ${step.id}`);\n          }\n          if (step.target == null && step.type == null) {\n            throw new Error(`[zag-js/tour] Step ${step.id} has no target or type. At least one of those is required.`);\n          }\n          ids.add(step.id);\n        });\n      }\n    },\n    effects: {\n      waitForScrollEnd({ send }) {\n        const id = setTimeout(() => {\n          send({ type: \"SCROLL.END\" });\n        }, 100);\n        return () => clearTimeout(id);\n      },\n      waitForTargetTimeout({ send }) {\n        const id = setTimeout(() => {\n          send({ type: \"TARGET.NOT_FOUND\" });\n        }, 3e3);\n        return () => clearTimeout(id);\n      },\n      waitForTarget({ scope, computed, send }) {\n        const step = computed(\"step\");\n        if (!step) return;\n        const targetEl = step.target;\n        const win = scope.getWin();\n        const rootNode = scope.getRootNode();\n        const observer = new win.MutationObserver(() => {\n          const node = targetEl?.();\n          if (node) {\n            send({ type: \"TARGET.RESOLVED\", node });\n            observer.disconnect();\n          }\n        });\n        observer.observe(rootNode, {\n          childList: true,\n          subtree: true,\n          characterData: true\n        });\n        return () => {\n          observer.disconnect();\n        };\n      },\n      trackBoundarySize({ context, scope }) {\n        const win = scope.getWin();\n        const doc = scope.getDoc();\n        const onResize = () => {\n          const width = visualViewport?.width ?? win.innerWidth;\n          const height = doc.documentElement.scrollHeight;\n          context.set(\"boundarySize\", { width, height });\n        };\n        onResize();\n        const viewport = win.visualViewport ?? win;\n        viewport.addEventListener(\"resize\", onResize);\n        return () => viewport.removeEventListener(\"resize\", onResize);\n      },\n      trackEscapeKeydown({ scope, send, prop }) {\n        if (!prop(\"closeOnEscape\")) return;\n        const doc = scope.getDoc();\n        const onKeyDown = (event) => {\n          if (event.key === \"Escape\") {\n            event.preventDefault();\n            event.stopPropagation();\n            send({ type: \"DISMISS\", src: \"esc\" });\n          }\n        };\n        doc.addEventListener(\"keydown\", onKeyDown, true);\n        return () => {\n          doc.removeEventListener(\"keydown\", onKeyDown, true);\n        };\n      },\n      trackInteractOutside({ context, computed, scope, send, prop }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackInteractOutside(contentEl, {\n          defer: true,\n          exclude(target) {\n            return contains(step.target?.(), target);\n          },\n          onFocusOutside(event) {\n            prop(\"onFocusOutside\")?.(event);\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onPointerDownOutside(event) {\n            prop(\"onPointerDownOutside\")?.(event);\n            const isWithin = isEventInRect(context.get(\"targetRect\"), event.detail.originalEvent);\n            if (isWithin) {\n              event.preventDefault();\n              return;\n            }\n            if (!prop(\"closeOnInteractOutside\")) {\n              event.preventDefault();\n            }\n          },\n          onInteractOutside(event) {\n            prop(\"onInteractOutside\")?.(event);\n            if (event.defaultPrevented) return;\n            send({ type: \"DISMISS\", src: \"interact-outside\" });\n          }\n        });\n      },\n      trackDismissableBranch({ computed, scope }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trackDismissableBranch(contentEl, { defer: !contentEl() });\n      },\n      trapFocus({ computed, scope }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        const contentEl = () => getContentEl(scope);\n        return trapFocus(contentEl, {\n          escapeDeactivates: false,\n          allowOutsideClick: true,\n          preventScroll: true,\n          returnFocusOnDeactivate: false\n        });\n      },\n      trackPlacement({ context, computed, scope, prop }) {\n        const step = computed(\"step\");\n        if (step == null) return;\n        context.set(\"currentPlacement\", step.placement ?? \"bottom\");\n        if (isDialogStep(step)) {\n          return syncZIndex(scope);\n        }\n        if (!isTooltipStep(step)) {\n          return;\n        }\n        const positionerEl = () => getPositionerEl(scope);\n        return getPlacement(context.get(\"resolvedTarget\"), positionerEl, {\n          defer: true,\n          placement: step.placement ?? \"bottom\",\n          strategy: \"absolute\",\n          gutter: 10,\n          offset: step.offset,\n          getAnchorRect(el) {\n            if (!isHTMLElement(el)) return null;\n            const rect = el.getBoundingClientRect();\n            return offset(rect, prop(\"spotlightOffset\"));\n          },\n          onComplete(data) {\n            const { rects } = data.middlewareData;\n            context.set(\"currentPlacement\", data.placement);\n            context.set(\"targetRect\", rects.reference);\n          }\n        });\n      }\n    }\n  }\n});\nfunction syncZIndex(scope) {\n  return raf(() => {\n    const contentEl = getContentEl(scope);\n    if (!contentEl) return;\n    const styles = getComputedStyle$1(contentEl);\n    const positionerEl = getPositionerEl(scope);\n    const backdropEl = getBackdropEl(scope);\n    if (positionerEl) {\n      positionerEl.style.setProperty(\"--z-index\", styles.zIndex);\n      positionerEl.style.setProperty(\"z-index\", \"var(--z-index)\");\n    }\n    if (backdropEl) {\n      backdropEl.style.setProperty(\"--z-index\", styles.zIndex);\n    }\n  });\n}\nfunction setStep(params, idx) {\n  const { context, refs, computed, prop } = params;\n  const steps = context.get(\"steps\");\n  const step = steps[idx];\n  if (!step) {\n    context.set(\"stepId\", null);\n    return;\n  }\n  if (isEqual(context.get(\"stepId\"), step.id)) return;\n  const update = (data) => {\n    context.set(\"steps\", (prev) => prev.map((s, i) => i === idx ? { ...s, ...data } : s));\n  };\n  const next = () => {\n    const idx2 = nextIndex(steps, computed(\"stepIndex\"));\n    context.set(\"stepId\", steps[idx2].id);\n  };\n  const goto = (id) => {\n    const step2 = findStep(steps, id);\n    if (!step2) return;\n    context.set(\"stepId\", step2.id);\n  };\n  const dismiss = () => {\n    context.set(\"stepId\", null);\n    prop(\"onStatusChange\")?.({ status: \"dismissed\", stepId: null, stepIndex: -1 });\n  };\n  const show = () => {\n    context.set(\"stepId\", step.id);\n  };\n  if (!step.effect) {\n    show();\n    return;\n  }\n  const cleanup = step.effect({\n    show,\n    next,\n    update,\n    target: step.target,\n    dismiss,\n    goto\n  });\n  refs.set(\"_effectCleanup\", cleanup);\n}\nvar props = createProps()([\n  \"closeOnEscape\",\n  \"closeOnInteractOutside\",\n  \"dir\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"keyboardNavigation\",\n  \"onFocusOutside\",\n  \"onInteractOutside\",\n  \"onPointerDownOutside\",\n  \"onStatusChange\",\n  \"onStepChange\",\n  \"onStepsChange\",\n  \"preventInteraction\",\n  \"spotlightOffset\",\n  \"spotlightRadius\",\n  \"stepId\",\n  \"steps\",\n  \"translations\"\n]);\nvar splitProps = createSplitProps(props);\nfunction waitForElementValue(target, value, options) {\n  const { timeout, rootNode } = options;\n  const win = getWindow(rootNode);\n  const controller = new win.AbortController();\n  return waitForPromise(\n    new Promise((resolve) => {\n      const el = target();\n      if (!el) return;\n      const checkValue = () => {\n        if (el.value === value) {\n          resolve();\n          el.removeEventListener(\"input\", checkValue);\n        }\n      };\n      checkValue();\n      el.addEventListener(\"input\", checkValue, { signal: controller.signal });\n    }),\n    controller,\n    timeout\n  );\n}\n\nexport { anatomy, connect, machine, props, splitProps, waitForElementValue };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}