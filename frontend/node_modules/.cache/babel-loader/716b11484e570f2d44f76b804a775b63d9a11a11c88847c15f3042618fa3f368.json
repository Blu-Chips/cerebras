{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"children\", \"head\", \"onMount\", \"onUnmount\", \"srcDoc\"];\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { forwardRef, useState, useEffect, useId } from 'react';\nimport { createPortal } from 'react-dom';\nimport { EnvironmentProvider } from '../../providers/environment/environment-provider.js';\nimport { composeRefs } from '../../utils/compose-refs.js';\nimport { useSafeLayoutEffect } from '../../utils/use-safe-layout-effect.js';\nimport { FrameContent } from './frame-content.js';\nconst resetStyle = \"<style>*,*::before,*::after { margin: 0; padding: 0; box-sizing: border-box; }</style>\";\nconst initialSrcDoc = \"<html><head>\".concat(resetStyle, \"</head><body><div class=\\\"frame-root\\\"></div></body></html>\");\nfunction getMountNode(frame) {\n  var _frame$contentWindow;\n  const doc = (_frame$contentWindow = frame.contentWindow) === null || _frame$contentWindow === void 0 ? void 0 : _frame$contentWindow.document;\n  if (!doc) return null;\n  const mountNode = doc.body.querySelector(\".frame-root\") || doc.body;\n  return mountNode;\n}\nconst Frame = forwardRef((props, ref) => {\n  const {\n      children,\n      head,\n      onMount,\n      onUnmount,\n      srcDoc = initialSrcDoc\n    } = props,\n    rest = _objectWithoutProperties(props, _excluded);\n  const [frameRef, setFrameRef] = useState(null);\n  const [mountNode, setMountNode] = useState(null);\n  useSafeLayoutEffect(() => {\n    var _frameRef$contentWind;\n    if (!frameRef) return;\n    const doc = (_frameRef$contentWind = frameRef.contentWindow) === null || _frameRef$contentWind === void 0 ? void 0 : _frameRef$contentWind.document;\n    if (!doc) return;\n    doc.open();\n    doc.write(srcDoc);\n    doc.close();\n    setMountNode(getMountNode(frameRef));\n  }, [frameRef, srcDoc]);\n  useEffect(() => {\n    if (!frameRef || !frameRef.contentDocument) return;\n    const win = frameRef.contentWindow;\n    if (!win) return;\n    const mountNode2 = getMountNode(frameRef);\n    if (!mountNode2) return;\n    const exec = () => {\n      win.requestAnimationFrame(() => {\n        var _frameRef$contentDocu;\n        const rootEl = (_frameRef$contentDocu = frameRef.contentDocument) === null || _frameRef$contentDocu === void 0 ? void 0 : _frameRef$contentDocu.documentElement;\n        if (!rootEl) return;\n        frameRef.style.setProperty(\"--width\", \"\".concat(mountNode2.scrollWidth, \"px\"));\n        frameRef.style.setProperty(\"--height\", \"\".concat(mountNode2.scrollHeight, \"px\"));\n      });\n    };\n    const resizeObserver = new win.ResizeObserver(exec);\n    exec();\n    if (frameRef.contentDocument) {\n      resizeObserver.observe(mountNode2);\n    }\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [frameRef]);\n  return /* @__PURE__ */jsx(EnvironmentProvider, {\n    value: () => {\n      var _frameRef$contentDocu2;\n      return (_frameRef$contentDocu2 = frameRef === null || frameRef === void 0 ? void 0 : frameRef.contentDocument) !== null && _frameRef$contentDocu2 !== void 0 ? _frameRef$contentDocu2 : document;\n    },\n    children: /* @__PURE__ */jsxs(\"iframe\", _objectSpread(_objectSpread({\n      title: \"frame:\".concat(useId()),\n      ref: composeRefs(ref, setFrameRef)\n    }, rest), {}, {\n      children: [mountNode ? createPortal(/* @__PURE__ */jsx(FrameContent, {\n        onMount,\n        onUnmount,\n        children\n      }), mountNode) : null, head && frameRef ? createPortal(head, frameRef.contentDocument.head) : null]\n    }))\n  });\n});\nexport { Frame };","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_excluded","jsx","jsxs","forwardRef","useState","useEffect","useId","createPortal","EnvironmentProvider","composeRefs","useSafeLayoutEffect","FrameContent","resetStyle","initialSrcDoc","concat","getMountNode","frame","_frame$contentWindow","doc","contentWindow","document","mountNode","body","querySelector","Frame","props","ref","children","head","onMount","onUnmount","srcDoc","rest","frameRef","setFrameRef","setMountNode","_frameRef$contentWind","open","write","close","contentDocument","win","mountNode2","exec","requestAnimationFrame","_frameRef$contentDocu","rootEl","documentElement","style","setProperty","scrollWidth","scrollHeight","resizeObserver","ResizeObserver","observe","disconnect","value","_frameRef$contentDocu2","title"],"sources":["C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@ark-ui/react/dist/components/frame/frame.js"],"sourcesContent":["'use client';\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { forwardRef, useState, useEffect, useId } from 'react';\nimport { createPortal } from 'react-dom';\nimport { EnvironmentProvider } from '../../providers/environment/environment-provider.js';\nimport { composeRefs } from '../../utils/compose-refs.js';\nimport { useSafeLayoutEffect } from '../../utils/use-safe-layout-effect.js';\nimport { FrameContent } from './frame-content.js';\n\nconst resetStyle = \"<style>*,*::before,*::after { margin: 0; padding: 0; box-sizing: border-box; }</style>\";\nconst initialSrcDoc = `<html><head>${resetStyle}</head><body><div class=\"frame-root\"></div></body></html>`;\nfunction getMountNode(frame) {\n  const doc = frame.contentWindow?.document;\n  if (!doc) return null;\n  const mountNode = doc.body.querySelector(\".frame-root\") || doc.body;\n  return mountNode;\n}\nconst Frame = forwardRef((props, ref) => {\n  const { children, head, onMount, onUnmount, srcDoc = initialSrcDoc, ...rest } = props;\n  const [frameRef, setFrameRef] = useState(null);\n  const [mountNode, setMountNode] = useState(null);\n  useSafeLayoutEffect(() => {\n    if (!frameRef) return;\n    const doc = frameRef.contentWindow?.document;\n    if (!doc) return;\n    doc.open();\n    doc.write(srcDoc);\n    doc.close();\n    setMountNode(getMountNode(frameRef));\n  }, [frameRef, srcDoc]);\n  useEffect(() => {\n    if (!frameRef || !frameRef.contentDocument) return;\n    const win = frameRef.contentWindow;\n    if (!win) return;\n    const mountNode2 = getMountNode(frameRef);\n    if (!mountNode2) return;\n    const exec = () => {\n      win.requestAnimationFrame(() => {\n        const rootEl = frameRef.contentDocument?.documentElement;\n        if (!rootEl) return;\n        frameRef.style.setProperty(\"--width\", `${mountNode2.scrollWidth}px`);\n        frameRef.style.setProperty(\"--height\", `${mountNode2.scrollHeight}px`);\n      });\n    };\n    const resizeObserver = new win.ResizeObserver(exec);\n    exec();\n    if (frameRef.contentDocument) {\n      resizeObserver.observe(mountNode2);\n    }\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [frameRef]);\n  return /* @__PURE__ */ jsx(EnvironmentProvider, { value: () => frameRef?.contentDocument ?? document, children: /* @__PURE__ */ jsxs(\"iframe\", { title: `frame:${useId()}`, ref: composeRefs(ref, setFrameRef), ...rest, children: [\n    mountNode ? createPortal(\n      /* @__PURE__ */ jsx(FrameContent, { onMount, onUnmount, children }),\n      mountNode\n    ) : null,\n    head && frameRef ? createPortal(head, frameRef.contentDocument.head) : null\n  ] }) });\n});\n\nexport { Frame };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}