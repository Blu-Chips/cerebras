{"ast":null,"code":"import { setStyleProperty, setStyle, isIos } from '@zag-js/dom-query';\n\n// src/index.ts\nvar LOCK_CLASSNAME = \"data-scroll-lock\";\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  var _doc$defaultView;\n  const doc = _document !== null && _document !== void 0 ? _document : document;\n  const win = (_doc$defaultView = doc.defaultView) !== null && _doc$defaultView !== void 0 ? _doc$defaultView : window;\n  const {\n    documentElement,\n    body\n  } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked) return;\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const setScrollbarWidthProperty = () => setStyleProperty(documentElement, \"--scrollbar-width\", \"\".concat(scrollbarWidth, \"px\"));\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setBodyStyle = () => setStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: \"\".concat(scrollbarWidth, \"px\")\n  });\n  const setBodyStyleIOS = () => {\n    var _visualViewport$offse, _visualViewport$offse2;\n    const {\n      scrollX,\n      scrollY,\n      visualViewport\n    } = win;\n    const offsetLeft = (_visualViewport$offse = visualViewport === null || visualViewport === void 0 ? void 0 : visualViewport.offsetLeft) !== null && _visualViewport$offse !== void 0 ? _visualViewport$offse : 0;\n    const offsetTop = (_visualViewport$offse2 = visualViewport === null || visualViewport === void 0 ? void 0 : visualViewport.offsetTop) !== null && _visualViewport$offse2 !== void 0 ? _visualViewport$offse2 : 0;\n    const restoreStyle = setStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: \"\".concat(-(scrollY - Math.floor(offsetTop)), \"px\"),\n      left: \"\".concat(-(scrollX - Math.floor(offsetLeft)), \"px\"),\n      right: \"0\",\n      [paddingProperty]: \"\".concat(scrollbarWidth, \"px\")\n    });\n    return () => {\n      restoreStyle === null || restoreStyle === void 0 || restoreStyle();\n      win.scrollTo({\n        left: scrollX,\n        top: scrollY,\n        behavior: \"instant\"\n      });\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setBodyStyleIOS() : setBodyStyle()];\n  return () => {\n    cleanups.forEach(fn => fn === null || fn === void 0 ? void 0 : fn());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\nexport { preventBodyScroll };","map":{"version":3,"names":["setStyleProperty","setStyle","isIos","LOCK_CLASSNAME","getPaddingProperty","documentElement","documentLeft","getBoundingClientRect","left","scrollbarX","Math","round","scrollLeft","preventBodyScroll","_document","_doc$defaultView","doc","document","win","defaultView","window","body","locked","hasAttribute","scrollbarWidth","innerWidth","clientWidth","setAttribute","setScrollbarWidthProperty","concat","paddingProperty","setBodyStyle","overflow","setBodyStyleIOS","_visualViewport$offse","_visualViewport$offse2","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","position","top","floor","right","scrollTo","behavior","cleanups","forEach","fn","removeAttribute"],"sources":["C:/Users/JAMES/cerebras-1/CerebrasApp/frontend/node_modules/@zag-js/remove-scroll/dist/index.mjs"],"sourcesContent":["import { setStyleProperty, setStyle, isIos } from '@zag-js/dom-query';\n\n// src/index.ts\nvar LOCK_CLASSNAME = \"data-scroll-lock\";\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const { documentElement, body } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked) return;\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const setScrollbarWidthProperty = () => setStyleProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setBodyStyle = () => setStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `${scrollbarWidth}px`\n  });\n  const setBodyStyleIOS = () => {\n    const { scrollX, scrollY, visualViewport } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = setStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo({ left: scrollX, top: scrollY, behavior: \"instant\" });\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setBodyStyleIOS() : setBodyStyle()];\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\n\nexport { preventBodyScroll };\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,mBAAmB;;AAErE;AACA,IAAIC,cAAc,GAAG,kBAAkB;AACvC,SAASC,kBAAkBA,CAACC,eAAe,EAAE;EAC3C,MAAMC,YAAY,GAAGD,eAAe,CAACE,qBAAqB,CAAC,CAAC,CAACC,IAAI;EACjE,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAAC,GAAGD,eAAe,CAACO,UAAU;EACxE,OAAOH,UAAU,GAAG,aAAa,GAAG,cAAc;AACpD;AACA,SAASI,iBAAiBA,CAACC,SAAS,EAAE;EAAA,IAAAC,gBAAA;EACpC,MAAMC,GAAG,GAAGF,SAAS,aAATA,SAAS,cAATA,SAAS,GAAIG,QAAQ;EACjC,MAAMC,GAAG,IAAAH,gBAAA,GAAGC,GAAG,CAACG,WAAW,cAAAJ,gBAAA,cAAAA,gBAAA,GAAIK,MAAM;EACrC,MAAM;IAAEf,eAAe;IAAEgB;EAAK,CAAC,GAAGL,GAAG;EACrC,MAAMM,MAAM,GAAGD,IAAI,CAACE,YAAY,CAACpB,cAAc,CAAC;EAChD,IAAImB,MAAM,EAAE;EACZ,MAAME,cAAc,GAAGN,GAAG,CAACO,UAAU,GAAGpB,eAAe,CAACqB,WAAW;EACnEL,IAAI,CAACM,YAAY,CAACxB,cAAc,EAAE,EAAE,CAAC;EACrC,MAAMyB,yBAAyB,GAAGA,CAAA,KAAM5B,gBAAgB,CAACK,eAAe,EAAE,mBAAmB,KAAAwB,MAAA,CAAKL,cAAc,OAAI,CAAC;EACrH,MAAMM,eAAe,GAAG1B,kBAAkB,CAACC,eAAe,CAAC;EAC3D,MAAM0B,YAAY,GAAGA,CAAA,KAAM9B,QAAQ,CAACoB,IAAI,EAAE;IACxCW,QAAQ,EAAE,QAAQ;IAClB,CAACF,eAAe,MAAAD,MAAA,CAAML,cAAc;EACtC,CAAC,CAAC;EACF,MAAMS,eAAe,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA,EAAAC,sBAAA;IAC5B,MAAM;MAAEC,OAAO;MAAEC,OAAO;MAAEC;IAAe,CAAC,GAAGpB,GAAG;IAChD,MAAMqB,UAAU,IAAAL,qBAAA,GAAGI,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEC,UAAU,cAAAL,qBAAA,cAAAA,qBAAA,GAAI,CAAC;IAClD,MAAMM,SAAS,IAAAL,sBAAA,GAAGG,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEE,SAAS,cAAAL,sBAAA,cAAAA,sBAAA,GAAI,CAAC;IAChD,MAAMM,YAAY,GAAGxC,QAAQ,CAACoB,IAAI,EAAE;MAClCqB,QAAQ,EAAE,OAAO;MACjBV,QAAQ,EAAE,QAAQ;MAClBW,GAAG,KAAAd,MAAA,CAAK,EAAEQ,OAAO,GAAG3B,IAAI,CAACkC,KAAK,CAACJ,SAAS,CAAC,CAAC,OAAI;MAC9ChC,IAAI,KAAAqB,MAAA,CAAK,EAAEO,OAAO,GAAG1B,IAAI,CAACkC,KAAK,CAACL,UAAU,CAAC,CAAC,OAAI;MAChDM,KAAK,EAAE,GAAG;MACV,CAACf,eAAe,MAAAD,MAAA,CAAML,cAAc;IACtC,CAAC,CAAC;IACF,OAAO,MAAM;MACXiB,YAAY,aAAZA,YAAY,eAAZA,YAAY,CAAG,CAAC;MAChBvB,GAAG,CAAC4B,QAAQ,CAAC;QAAEtC,IAAI,EAAE4B,OAAO;QAAEO,GAAG,EAAEN,OAAO;QAAEU,QAAQ,EAAE;MAAU,CAAC,CAAC;IACpE,CAAC;EACH,CAAC;EACD,MAAMC,QAAQ,GAAG,CAACpB,yBAAyB,CAAC,CAAC,EAAE1B,KAAK,CAAC,CAAC,GAAG+B,eAAe,CAAC,CAAC,GAAGF,YAAY,CAAC,CAAC,CAAC;EAC5F,OAAO,MAAM;IACXiB,QAAQ,CAACC,OAAO,CAAEC,EAAE,IAAKA,EAAE,aAAFA,EAAE,uBAAFA,EAAE,CAAG,CAAC,CAAC;IAChC7B,IAAI,CAAC8B,eAAe,CAAChD,cAAc,CAAC;EACtC,CAAC;AACH;AAEA,SAASU,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}